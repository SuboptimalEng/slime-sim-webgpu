(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Dc={exports:{}},So={},zc={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=Symbol.for("react.element"),Zh=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),tf=Symbol.for("react.profiler"),nf=Symbol.for("react.provider"),rf=Symbol.for("react.context"),of=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),sf=Symbol.for("react.memo"),af=Symbol.for("react.lazy"),Xa=Symbol.iterator;function uf(t){return t===null||typeof t!="object"?null:(t=Xa&&t[Xa]||t["@@iterator"],typeof t=="function"?t:null)}var Fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bc=Object.assign,jc={};function Xn(t,e,n){this.props=t,this.context=e,this.refs=jc,this.updater=n||Fc}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ic(){}Ic.prototype=Xn.prototype;function Vs(t,e,n){this.props=t,this.context=e,this.refs=jc,this.updater=n||Fc}var As=Vs.prototype=new Ic;As.constructor=Vs;Bc(As,Xn.prototype);As.isPureReactComponent=!0;var Za=Array.isArray,Uc=Object.prototype.hasOwnProperty,Ms={current:null},$c={key:!0,ref:!0,__self:!0,__source:!0};function Gc(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Uc.call(e,r)&&!$c.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ti,type:t,key:o,ref:l,props:i,_owner:Ms.current}}function cf(t,e){return{$$typeof:ti,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Os(t){return typeof t=="object"&&t!==null&&t.$$typeof===ti}function df(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ja=/\/+/g;function Xo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?df(""+t.key):e.toString(36)}function Di(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ti:case Zh:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Xo(l,0):r,Za(i)?(n="",t!=null&&(n=t.replace(Ja,"$&/")+"/"),Di(i,e,n,"",function(u){return u})):i!=null&&(Os(i)&&(i=cf(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ja,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Za(t))for(var s=0;s<t.length;s++){o=t[s];var a=r+Xo(o,s);l+=Di(o,e,n,a,i)}else if(a=uf(t),typeof a=="function")for(t=a.call(t),s=0;!(o=t.next()).done;)o=o.value,a=r+Xo(o,s++),l+=Di(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function wi(t,e,n){if(t==null)return t;var r=[],i=0;return Di(t,r,"","",function(o){return e.call(n,o,i++)}),r}function pf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},zi={transition:null},hf={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:zi,ReactCurrentOwner:Ms};function Hc(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:wi,forEach:function(t,e,n){wi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wi(t,function(){e++}),e},toArray:function(t){return wi(t,function(e){return e})||[]},only:function(t){if(!Os(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};A.Component=Xn;A.Fragment=Jh;A.Profiler=tf;A.PureComponent=Vs;A.StrictMode=ef;A.Suspense=lf;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hf;A.act=Hc;A.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bc({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Ms.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(a in e)Uc.call(e,a)&&!$c.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&s!==void 0?s[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ti,type:t.type,key:i,ref:o,props:r,_owner:l}};A.createContext=function(t){return t={$$typeof:rf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nf,_context:t},t.Consumer=t};A.createElement=Gc;A.createFactory=function(t){var e=Gc.bind(null,t);return e.type=t,e};A.createRef=function(){return{current:null}};A.forwardRef=function(t){return{$$typeof:of,render:t}};A.isValidElement=Os;A.lazy=function(t){return{$$typeof:af,_payload:{_status:-1,_result:t},_init:pf}};A.memo=function(t,e){return{$$typeof:sf,type:t,compare:e===void 0?null:e}};A.startTransition=function(t){var e=zi.transition;zi.transition={};try{t()}finally{zi.transition=e}};A.unstable_act=Hc;A.useCallback=function(t,e){return we.current.useCallback(t,e)};A.useContext=function(t){return we.current.useContext(t)};A.useDebugValue=function(){};A.useDeferredValue=function(t){return we.current.useDeferredValue(t)};A.useEffect=function(t,e){return we.current.useEffect(t,e)};A.useId=function(){return we.current.useId()};A.useImperativeHandle=function(t,e,n){return we.current.useImperativeHandle(t,e,n)};A.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};A.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};A.useMemo=function(t,e){return we.current.useMemo(t,e)};A.useReducer=function(t,e,n){return we.current.useReducer(t,e,n)};A.useRef=function(t){return we.current.useRef(t)};A.useState=function(t){return we.current.useState(t)};A.useSyncExternalStore=function(t,e,n){return we.current.useSyncExternalStore(t,e,n)};A.useTransition=function(){return we.current.useTransition()};A.version="18.3.1";zc.exports=A;var Ar=zc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Ar,vf=Symbol.for("react.element"),mf=Symbol.for("react.fragment"),gf=Object.prototype.hasOwnProperty,wf=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_f={key:!0,ref:!0,__self:!0,__source:!0};function Kc(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)gf.call(e,r)&&!_f.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vf,type:t,key:o,ref:l,props:i,_owner:wf.current}}So.Fragment=mf;So.jsx=Kc;So.jsxs=Kc;Dc.exports=So;var xn=Dc.exports,Wc={exports:{}},Me={},Qc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,S){var V=P.length;P.push(S);e:for(;0<V;){var Z=V-1>>>1,oe=P[Z];if(0<i(oe,S))P[Z]=S,P[V]=oe,V=Z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var S=P[0],V=P.pop();if(V!==S){P[0]=V;e:for(var Z=0,oe=P.length,mi=oe>>>1;Z<mi;){var Yt=2*(Z+1)-1,qo=P[Yt],qt=Yt+1,gi=P[qt];if(0>i(qo,V))qt<oe&&0>i(gi,qo)?(P[Z]=gi,P[qt]=V,Z=qt):(P[Z]=qo,P[Yt]=V,Z=Yt);else if(qt<oe&&0>i(gi,V))P[Z]=gi,P[qt]=V,Z=qt;else break e}}return S}function i(P,S){var V=P.sortIndex-S.sortIndex;return V!==0?V:P.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var a=[],u=[],f=1,h=null,v=3,w=!1,_=!1,y=!1,F=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=P)r(u),S.sortIndex=S.expirationTime,e(a,S);else break;S=n(u)}}function m(P){if(y=!1,p(P),!_)if(n(a)!==null)_=!0,Qo(x);else{var S=n(u);S!==null&&Yo(m,S.startTime-P)}}function x(P,S){_=!1,y&&(y=!1,d(E),E=-1),w=!0;var V=v;try{for(p(S),h=n(a);h!==null&&(!(h.expirationTime>S)||P&&!Ge());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,v=h.priorityLevel;var oe=Z(h.expirationTime<=S);S=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(a)&&r(a),p(S)}else r(a);h=n(a)}if(h!==null)var mi=!0;else{var Yt=n(u);Yt!==null&&Yo(m,Yt.startTime-S),mi=!1}return mi}finally{h=null,v=V,w=!1}}var b=!1,k=null,E=-1,B=5,T=-1;function Ge(){return!(t.unstable_now()-T<B)}function ir(){if(k!==null){var P=t.unstable_now();T=P;var S=!0;try{S=k(!0,P)}finally{S?or():(b=!1,k=null)}}else b=!1}var or;if(typeof c=="function")or=function(){c(ir)};else if(typeof MessageChannel<"u"){var qa=new MessageChannel,Xh=qa.port2;qa.port1.onmessage=ir,or=function(){Xh.postMessage(null)}}else or=function(){F(ir,0)};function Qo(P){k=P,b||(b=!0,or())}function Yo(P,S){E=F(function(){P(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,Qo(x))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(v){case 1:case 2:case 3:var S=3;break;default:S=v}var V=v;v=S;try{return P()}finally{v=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,S){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=v;v=P;try{return S()}finally{v=V}},t.unstable_scheduleCallback=function(P,S,V){var Z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,P={id:f++,callback:S,priorityLevel:P,startTime:V,expirationTime:oe,sortIndex:-1},V>Z?(P.sortIndex=V,e(u,P),n(a)===null&&P===n(u)&&(y?(d(E),E=-1):y=!0,Yo(m,V-Z))):(P.sortIndex=oe,e(a,P),_||w||(_=!0,Qo(x))),P},t.unstable_shouldYield=Ge,t.unstable_wrapCallback=function(P){var S=v;return function(){var V=v;v=S;try{return P.apply(this,arguments)}finally{v=V}}}})(Yc);Qc.exports=Yc;var yf=Qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Ar,Ae=yf;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qc=new Set,Mr={};function vn(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(Mr[t]=e,t=0;t<e.length;t++)qc.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function Cf(t){return Al.call(tu,t)?!0:Al.call(eu,t)?!1:xf.test(t)?tu[t]=!0:(eu[t]=!0,!1)}function Pf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kf(t,e,n,r){if(e===null||typeof e>"u"||Pf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rs=/[\-:]([a-z])/g;function Ns(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rs,Ns);ce[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rs,Ns);ce[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rs,Ns);ce[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ds(t,e,n,r){var i=ce.hasOwnProperty(e)?ce[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kf(e,n,i,r)&&(n=null),r||i===null?Cf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bt=bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),Pn=Symbol.for("react.fragment"),zs=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),Xc=Symbol.for("react.provider"),Zc=Symbol.for("react.context"),Fs=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Rl=Symbol.for("react.suspense_list"),Bs=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Jc=Symbol.for("react.offscreen"),nu=Symbol.iterator;function lr(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Zo;function wr(t){if(Zo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zo=e&&e[1]||""}return`
`+Zo+t}var Jo=!1;function el(t,e){if(!t||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=s);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wr(t):""}function Ef(t){switch(t.tag){case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return t=el(t.type,!1),t;case 11:return t=el(t.type.render,!1),t;case 1:return t=el(t.type,!0),t;default:return""}}function Nl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pn:return"Fragment";case Cn:return"Portal";case Ml:return"Profiler";case zs:return"StrictMode";case Ol:return"Suspense";case Rl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zc:return(t.displayName||"Context")+".Consumer";case Xc:return(t._context.displayName||"Context")+".Provider";case Fs:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bs:return e=t.displayName||null,e!==null?e:Nl(t.type)||"Memo";case St:e=t._payload,t=t._init;try{return Nl(t(e))}catch{}}return null}function Sf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(e);case 8:return e===zs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $t(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ed(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tf(t){var e=ed(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yi(t){t._valueTracker||(t._valueTracker=Tf(t))}function td(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ed(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dl(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ru(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$t(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nd(t,e){e=e.checked,e!=null&&Ds(t,"checked",e,!1)}function zl(t,e){nd(t,e);var n=$t(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fl(t,e.type,$t(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fl(t,e,n){(e!=="number"||Xi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _r=Array.isArray;function Nn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$t(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(g(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ou(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(g(92));if(_r(n)){if(1<n.length)throw Error(g(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$t(n)}}function rd(t,e){var n=$t(e.value),r=$t(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function id(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?id(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bi,od=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bi=bi||document.createElement("div"),bi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lf=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(t){Lf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xr[e]=xr[t]})});function ld(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xr.hasOwnProperty(t)&&xr[t]?(""+e).trim():e+"px"}function sd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ld(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vf=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(t,e){if(e){if(Vf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(g(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(g(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(g(61))}if(e.style!=null&&typeof e.style!="object")throw Error(g(62))}}function Ul(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function js(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gl=null,Dn=null,zn=null;function su(t){if(t=ii(t)){if(typeof Gl!="function")throw Error(g(280));var e=t.stateNode;e&&(e=Mo(e),Gl(t.stateNode,t.type,e))}}function ad(t){Dn?zn?zn.push(t):zn=[t]:Dn=t}function ud(){if(Dn){var t=Dn,e=zn;if(zn=Dn=null,su(t),e)for(t=0;t<e.length;t++)su(e[t])}}function cd(t,e){return t(e)}function dd(){}var tl=!1;function pd(t,e,n){if(tl)return t(e,n);tl=!0;try{return cd(t,e,n)}finally{tl=!1,(Dn!==null||zn!==null)&&(dd(),ud())}}function Rr(t,e){var n=t.stateNode;if(n===null)return null;var r=Mo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(g(231,e,typeof n));return n}var Hl=!1;if(vt)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Hl=!1}function Af(t,e,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Cr=!1,Zi=null,Ji=!1,Kl=null,Mf={onError:function(t){Cr=!0,Zi=t}};function Of(t,e,n,r,i,o,l,s,a){Cr=!1,Zi=null,Af.apply(Mf,arguments)}function Rf(t,e,n,r,i,o,l,s,a){if(Of.apply(this,arguments),Cr){if(Cr){var u=Zi;Cr=!1,Zi=null}else throw Error(g(198));Ji||(Ji=!0,Kl=u)}}function mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function au(t){if(mn(t)!==t)throw Error(g(188))}function Nf(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(g(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return au(i),t;if(o===r)return au(i),e;o=o.sibling}throw Error(g(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(g(189))}}if(n.alternate!==r)throw Error(g(190))}if(n.tag!==3)throw Error(g(188));return n.stateNode.current===n?t:e}function fd(t){return t=Nf(t),t!==null?vd(t):null}function vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vd(t);if(e!==null)return e;t=t.sibling}return null}var md=Ae.unstable_scheduleCallback,uu=Ae.unstable_cancelCallback,Df=Ae.unstable_shouldYield,zf=Ae.unstable_requestPaint,J=Ae.unstable_now,Ff=Ae.unstable_getCurrentPriorityLevel,Is=Ae.unstable_ImmediatePriority,gd=Ae.unstable_UserBlockingPriority,eo=Ae.unstable_NormalPriority,Bf=Ae.unstable_LowPriority,wd=Ae.unstable_IdlePriority,To=null,nt=null;function jf(t){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(To,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:$f,If=Math.log,Uf=Math.LN2;function $f(t){return t>>>=0,t===0?32:31-(If(t)/Uf|0)|0}var xi=64,Ci=4194304;function yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function to(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=yr(s):(o&=l,o!==0&&(r=yr(o)))}else l=n&~i,l!==0?r=yr(l):o!==0&&(r=yr(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ye(e),i=1<<n,r|=t[n],e&=~i;return r}function Gf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ye(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=Gf(s,e)):a<=e&&(t.expiredLanes|=s),o&=~s}}function Wl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _d(){var t=xi;return xi<<=1,!(xi&4194240)&&(xi=64),t}function nl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ni(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=n}function Kf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ye(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Us(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ye(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var z=0;function yd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bd,$s,xd,Cd,Pd,Ql=!1,Pi=[],Rt=null,Nt=null,Dt=null,Nr=new Map,Dr=new Map,Lt=[],Wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(t,e){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(e.pointerId)}}function ar(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ii(e),e!==null&&$s(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Qf(t,e,n,r,i){switch(e){case"focusin":return Rt=ar(Rt,t,e,n,r,i),!0;case"dragenter":return Nt=ar(Nt,t,e,n,r,i),!0;case"mouseover":return Dt=ar(Dt,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nr.set(o,ar(Nr.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dr.set(o,ar(Dr.get(o)||null,t,e,n,r,i)),!0}return!1}function kd(t){var e=en(t.target);if(e!==null){var n=mn(e);if(n!==null){if(e=n.tag,e===13){if(e=hd(n),e!==null){t.blockedOn=e,Pd(t.priority,function(){xd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return e=ii(n),e!==null&&$s(e),t.blockedOn=n,!1;e.shift()}return!0}function du(t,e,n){Fi(t)&&n.delete(e)}function Yf(){Ql=!1,Rt!==null&&Fi(Rt)&&(Rt=null),Nt!==null&&Fi(Nt)&&(Nt=null),Dt!==null&&Fi(Dt)&&(Dt=null),Nr.forEach(du),Dr.forEach(du)}function ur(t,e){t.blockedOn===e&&(t.blockedOn=null,Ql||(Ql=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Yf)))}function zr(t){function e(i){return ur(i,t)}if(0<Pi.length){ur(Pi[0],t);for(var n=1;n<Pi.length;n++){var r=Pi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rt!==null&&ur(Rt,t),Nt!==null&&ur(Nt,t),Dt!==null&&ur(Dt,t),Nr.forEach(e),Dr.forEach(e),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)kd(n),n.blockedOn===null&&Lt.shift()}var Fn=bt.ReactCurrentBatchConfig,no=!0;function qf(t,e,n,r){var i=z,o=Fn.transition;Fn.transition=null;try{z=1,Gs(t,e,n,r)}finally{z=i,Fn.transition=o}}function Xf(t,e,n,r){var i=z,o=Fn.transition;Fn.transition=null;try{z=4,Gs(t,e,n,r)}finally{z=i,Fn.transition=o}}function Gs(t,e,n,r){if(no){var i=Yl(t,e,n,r);if(i===null)pl(t,e,r,ro,n),cu(t,r);else if(Qf(i,t,e,n,r))r.stopPropagation();else if(cu(t,r),e&4&&-1<Wf.indexOf(t)){for(;i!==null;){var o=ii(i);if(o!==null&&bd(o),o=Yl(t,e,n,r),o===null&&pl(t,e,r,ro,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pl(t,e,r,null,n)}}var ro=null;function Yl(t,e,n,r){if(ro=null,t=js(r),t=en(t),t!==null)if(e=mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ro=t,null}function Ed(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ff()){case Is:return 1;case gd:return 4;case eo:case Bf:return 16;case wd:return 536870912;default:return 16}default:return 16}}var At=null,Hs=null,Bi=null;function Sd(){if(Bi)return Bi;var t,e=Hs,n=e.length,r,i="value"in At?At.value:At.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Bi=i.slice(t,1<r?1-r:void 0)}function ji(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function pu(){return!1}function Oe(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ki:pu,this.isPropagationStopped=pu,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),e}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Oe(Zn),ri=Q({},Zn,{view:0,detail:0}),Zf=Oe(ri),rl,il,cr,Lo=Q({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(rl=t.screenX-cr.screenX,il=t.screenY-cr.screenY):il=rl=0,cr=t),rl)},movementY:function(t){return"movementY"in t?t.movementY:il}}),hu=Oe(Lo),Jf=Q({},Lo,{dataTransfer:0}),ev=Oe(Jf),tv=Q({},ri,{relatedTarget:0}),ol=Oe(tv),nv=Q({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=Oe(nv),iv=Q({},Zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ov=Oe(iv),lv=Q({},Zn,{data:0}),fu=Oe(lv),sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uv[t])?!!e[t]:!1}function Ws(){return cv}var dv=Q({},ri,{key:function(t){if(t.key){var e=sv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?av[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(t){return t.type==="keypress"?ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pv=Oe(dv),hv=Q({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=Oe(hv),fv=Q({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),vv=Oe(fv),mv=Q({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gv=Oe(mv),wv=Q({},Lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_v=Oe(wv),yv=[9,13,27,32],Qs=vt&&"CompositionEvent"in window,Pr=null;vt&&"documentMode"in document&&(Pr=document.documentMode);var bv=vt&&"TextEvent"in window&&!Pr,Td=vt&&(!Qs||Pr&&8<Pr&&11>=Pr),mu=" ",gu=!1;function Ld(t,e){switch(t){case"keyup":return yv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function xv(t,e){switch(t){case"compositionend":return Vd(e);case"keypress":return e.which!==32?null:(gu=!0,mu);case"textInput":return t=e.data,t===mu&&gu?null:t;default:return null}}function Cv(t,e){if(kn)return t==="compositionend"||!Qs&&Ld(t,e)?(t=Sd(),Bi=Hs=At=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Td&&e.locale!=="ko"?null:e.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pv[t.type]:e==="textarea"}function Ad(t,e,n,r){ad(r),e=io(e,"onChange"),0<e.length&&(n=new Ks("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kr=null,Fr=null;function kv(t){Ud(t,0)}function Vo(t){var e=Tn(t);if(td(e))return t}function Ev(t,e){if(t==="change")return e}var Md=!1;if(vt){var ll;if(vt){var sl="oninput"in document;if(!sl){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),sl=typeof _u.oninput=="function"}ll=sl}else ll=!1;Md=ll&&(!document.documentMode||9<document.documentMode)}function yu(){kr&&(kr.detachEvent("onpropertychange",Od),Fr=kr=null)}function Od(t){if(t.propertyName==="value"&&Vo(Fr)){var e=[];Ad(e,Fr,t,js(t)),pd(kv,e)}}function Sv(t,e,n){t==="focusin"?(yu(),kr=e,Fr=n,kr.attachEvent("onpropertychange",Od)):t==="focusout"&&yu()}function Tv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Fr)}function Lv(t,e){if(t==="click")return Vo(e)}function Vv(t,e){if(t==="input"||t==="change")return Vo(e)}function Av(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:Av;function Br(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Al.call(e,i)||!Xe(t[i],e[i]))return!1}return!0}function bu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xu(t,e){var n=bu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bu(n)}}function Rd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nd(){for(var t=window,e=Xi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xi(t.document)}return e}function Ys(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mv(t){var e=Nd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rd(n.ownerDocument.documentElement,n)){if(r!==null&&Ys(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=xu(n,o);var l=xu(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ov=vt&&"documentMode"in document&&11>=document.documentMode,En=null,ql=null,Er=null,Xl=!1;function Cu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||En==null||En!==Xi(r)||(r=En,"selectionStart"in r&&Ys(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Er&&Br(Er,r)||(Er=r,r=io(ql,"onSelect"),0<r.length&&(e=new Ks("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=En)))}function Ei(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sn={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},al={},Dd={};vt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function Ao(t){if(al[t])return al[t];if(!Sn[t])return t;var e=Sn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dd)return al[t]=e[n];return t}var zd=Ao("animationend"),Fd=Ao("animationiteration"),Bd=Ao("animationstart"),jd=Ao("transitionend"),Id=new Map,Pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){Id.set(t,e),vn(e,[t])}for(var ul=0;ul<Pu.length;ul++){var cl=Pu[ul],Rv=cl.toLowerCase(),Nv=cl[0].toUpperCase()+cl.slice(1);Kt(Rv,"on"+Nv)}Kt(zd,"onAnimationEnd");Kt(Fd,"onAnimationIteration");Kt(Bd,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(jd,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function ku(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Rf(r,e,void 0,t),t.currentTarget=null}function Ud(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;ku(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;ku(i,s,u),o=a}}}if(Ji)throw t=Kl,Ji=!1,Kl=null,t}function U(t,e){var n=e[ns];n===void 0&&(n=e[ns]=new Set);var r=t+"__bubble";n.has(r)||($d(e,t,2,!1),n.add(r))}function dl(t,e,n){var r=0;e&&(r|=4),$d(n,t,r,e)}var Si="_reactListening"+Math.random().toString(36).slice(2);function jr(t){if(!t[Si]){t[Si]=!0,qc.forEach(function(n){n!=="selectionchange"&&(Dv.has(n)||dl(n,!1,t),dl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Si]||(e[Si]=!0,dl("selectionchange",!1,e))}}function $d(t,e,n,r){switch(Ed(e)){case 1:var i=qf;break;case 4:i=Xf;break;default:i=Gs}n=i.bind(null,e,n,t),i=void 0,!Hl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pl(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=en(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}pd(function(){var u=o,f=js(n),h=[];e:{var v=Id.get(t);if(v!==void 0){var w=Ks,_=t;switch(t){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":w=pv;break;case"focusin":_="focus",w=ol;break;case"focusout":_="blur",w=ol;break;case"beforeblur":case"afterblur":w=ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=vv;break;case zd:case Fd:case Bd:w=rv;break;case jd:w=gv;break;case"scroll":w=Zf;break;case"wheel":w=_v;break;case"copy":case"cut":case"paste":w=ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=vu}var y=(e&4)!==0,F=!y&&t==="scroll",d=y?v!==null?v+"Capture":null:v;y=[];for(var c=u,p;c!==null;){p=c;var m=p.stateNode;if(p.tag===5&&m!==null&&(p=m,d!==null&&(m=Rr(c,d),m!=null&&y.push(Ir(c,m,p)))),F)break;c=c.return}0<y.length&&(v=new w(v,_,null,n,f),h.push({event:v,listeners:y}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",v&&n!==$l&&(_=n.relatedTarget||n.fromElement)&&(en(_)||_[mt]))break e;if((w||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=u,_=_?en(_):null,_!==null&&(F=mn(_),_!==F||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=u),w!==_)){if(y=hu,m="onMouseLeave",d="onMouseEnter",c="mouse",(t==="pointerout"||t==="pointerover")&&(y=vu,m="onPointerLeave",d="onPointerEnter",c="pointer"),F=w==null?v:Tn(w),p=_==null?v:Tn(_),v=new y(m,c+"leave",w,n,f),v.target=F,v.relatedTarget=p,m=null,en(f)===u&&(y=new y(d,c+"enter",_,n,f),y.target=p,y.relatedTarget=F,m=y),F=m,w&&_)t:{for(y=w,d=_,c=0,p=y;p;p=_n(p))c++;for(p=0,m=d;m;m=_n(m))p++;for(;0<c-p;)y=_n(y),c--;for(;0<p-c;)d=_n(d),p--;for(;c--;){if(y===d||d!==null&&y===d.alternate)break t;y=_n(y),d=_n(d)}y=null}else y=null;w!==null&&Eu(h,v,w,y,!1),_!==null&&F!==null&&Eu(h,F,_,y,!0)}}e:{if(v=u?Tn(u):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var x=Ev;else if(wu(v))if(Md)x=Vv;else{x=Tv;var b=Sv}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(x=Lv);if(x&&(x=x(t,u))){Ad(h,x,n,f);break e}b&&b(t,v,u),t==="focusout"&&(b=v._wrapperState)&&b.controlled&&v.type==="number"&&Fl(v,"number",v.value)}switch(b=u?Tn(u):window,t){case"focusin":(wu(b)||b.contentEditable==="true")&&(En=b,ql=u,Er=null);break;case"focusout":Er=ql=En=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,Cu(h,n,f);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Cu(h,n,f)}var k;if(Qs)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else kn?Ld(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Td&&n.locale!=="ko"&&(kn||E!=="onCompositionStart"?E==="onCompositionEnd"&&kn&&(k=Sd()):(At=f,Hs="value"in At?At.value:At.textContent,kn=!0)),b=io(u,E),0<b.length&&(E=new fu(E,t,null,n,f),h.push({event:E,listeners:b}),k?E.data=k:(k=Vd(n),k!==null&&(E.data=k)))),(k=bv?xv(t,n):Cv(t,n))&&(u=io(u,"onBeforeInput"),0<u.length&&(f=new fu("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=k))}Ud(h,e)})}function Ir(t,e,n){return{instance:t,listener:e,currentTarget:n}}function io(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rr(t,n),o!=null&&r.unshift(Ir(t,o,i)),o=Rr(t,e),o!=null&&r.push(Ir(t,o,i))),t=t.return}return r}function _n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eu(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=Rr(n,o),a!=null&&l.unshift(Ir(n,a,s))):i||(a=Rr(n,o),a!=null&&l.push(Ir(n,a,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var zv=/\r\n?/g,Fv=/\u0000|\uFFFD/g;function Su(t){return(typeof t=="string"?t:""+t).replace(zv,`
`).replace(Fv,"")}function Ti(t,e,n){if(e=Su(e),Su(t)!==e&&n)throw Error(g(425))}function oo(){}var Zl=null,Jl=null;function es(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ts=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(t){return Tu.resolve(null).then(t).catch(Iv)}:ts;function Iv(t){setTimeout(function(){throw t})}function hl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zr(e)}function zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),et="__reactFiber$"+Jn,Ur="__reactProps$"+Jn,mt="__reactContainer$"+Jn,ns="__reactEvents$"+Jn,Uv="__reactListeners$"+Jn,$v="__reactHandles$"+Jn;function en(t){var e=t[et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mt]||n[et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lu(t);t!==null;){if(n=t[et])return n;t=Lu(t)}return e}t=n,n=t.parentNode}return null}function ii(t){return t=t[et]||t[mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(g(33))}function Mo(t){return t[Ur]||null}var rs=[],Ln=-1;function Wt(t){return{current:t}}function $(t){0>Ln||(t.current=rs[Ln],rs[Ln]=null,Ln--)}function j(t,e){Ln++,rs[Ln]=t.current,t.current=e}var Gt={},fe=Wt(Gt),Pe=Wt(!1),sn=Gt;function Gn(t,e){var n=t.type.contextTypes;if(!n)return Gt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ke(t){return t=t.childContextTypes,t!=null}function lo(){$(Pe),$(fe)}function Vu(t,e,n){if(fe.current!==Gt)throw Error(g(168));j(fe,e),j(Pe,n)}function Gd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(g(108,Sf(t)||"Unknown",i));return Q({},n,r)}function so(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,sn=fe.current,j(fe,t),j(Pe,Pe.current),!0}function Au(t,e,n){var r=t.stateNode;if(!r)throw Error(g(169));n?(t=Gd(t,e,sn),r.__reactInternalMemoizedMergedChildContext=t,$(Pe),$(fe),j(fe,t)):$(Pe),j(Pe,n)}var at=null,Oo=!1,fl=!1;function Hd(t){at===null?at=[t]:at.push(t)}function Gv(t){Oo=!0,Hd(t)}function Qt(){if(!fl&&at!==null){fl=!0;var t=0,e=z;try{var n=at;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}at=null,Oo=!1}catch(i){throw at!==null&&(at=at.slice(t+1)),md(Is,Qt),i}finally{z=e,fl=!1}}return null}var Vn=[],An=0,ao=null,uo=0,ze=[],Fe=0,an=null,ct=1,dt="";function Zt(t,e){Vn[An++]=uo,Vn[An++]=ao,ao=t,uo=e}function Kd(t,e,n){ze[Fe++]=ct,ze[Fe++]=dt,ze[Fe++]=an,an=t;var r=ct;t=dt;var i=32-Ye(r)-1;r&=~(1<<i),n+=1;var o=32-Ye(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ct=1<<32-Ye(e)+i|n<<i|r,dt=o+t}else ct=1<<o|n<<i|r,dt=t}function qs(t){t.return!==null&&(Zt(t,1),Kd(t,1,0))}function Xs(t){for(;t===ao;)ao=Vn[--An],Vn[An]=null,uo=Vn[--An],Vn[An]=null;for(;t===an;)an=ze[--Fe],ze[Fe]=null,dt=ze[--Fe],ze[Fe]=null,ct=ze[--Fe],ze[Fe]=null}var Ve=null,Le=null,G=!1,Qe=null;function Wd(t,e){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ve=t,Le=zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ve=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=an!==null?{id:ct,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ve=t,Le=null,!0):!1;default:return!1}}function is(t){return(t.mode&1)!==0&&(t.flags&128)===0}function os(t){if(G){var e=Le;if(e){var n=e;if(!Mu(t,e)){if(is(t))throw Error(g(418));e=zt(n.nextSibling);var r=Ve;e&&Mu(t,e)?Wd(r,n):(t.flags=t.flags&-4097|2,G=!1,Ve=t)}}else{if(is(t))throw Error(g(418));t.flags=t.flags&-4097|2,G=!1,Ve=t}}}function Ou(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ve=t}function Li(t){if(t!==Ve)return!1;if(!G)return Ou(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!es(t.type,t.memoizedProps)),e&&(e=Le)){if(is(t))throw Qd(),Error(g(418));for(;e;)Wd(t,e),e=zt(e.nextSibling)}if(Ou(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Le=zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Ve?zt(t.stateNode.nextSibling):null;return!0}function Qd(){for(var t=Le;t;)t=zt(t.nextSibling)}function Hn(){Le=Ve=null,G=!1}function Zs(t){Qe===null?Qe=[t]:Qe.push(t)}var Hv=bt.ReactCurrentBatchConfig;function dr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(g(309));var r=n.stateNode}if(!r)throw Error(g(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(g(284));if(!n._owner)throw Error(g(290,t))}return t}function Vi(t,e){throw t=Object.prototype.toString.call(e),Error(g(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ru(t){var e=t._init;return e(t._payload)}function Yd(t){function e(d,c){if(t){var p=d.deletions;p===null?(d.deletions=[c],d.flags|=16):p.push(c)}}function n(d,c){if(!t)return null;for(;c!==null;)e(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function i(d,c){return d=It(d,c),d.index=0,d.sibling=null,d}function o(d,c,p){return d.index=p,t?(p=d.alternate,p!==null?(p=p.index,p<c?(d.flags|=2,c):p):(d.flags|=2,c)):(d.flags|=1048576,c)}function l(d){return t&&d.alternate===null&&(d.flags|=2),d}function s(d,c,p,m){return c===null||c.tag!==6?(c=bl(p,d.mode,m),c.return=d,c):(c=i(c,p),c.return=d,c)}function a(d,c,p,m){var x=p.type;return x===Pn?f(d,c,p.props.children,m,p.key):c!==null&&(c.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===St&&Ru(x)===c.type)?(m=i(c,p.props),m.ref=dr(d,c,p),m.return=d,m):(m=Wi(p.type,p.key,p.props,null,d.mode,m),m.ref=dr(d,c,p),m.return=d,m)}function u(d,c,p,m){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=xl(p,d.mode,m),c.return=d,c):(c=i(c,p.children||[]),c.return=d,c)}function f(d,c,p,m,x){return c===null||c.tag!==7?(c=on(p,d.mode,m,x),c.return=d,c):(c=i(c,p),c.return=d,c)}function h(d,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=bl(""+c,d.mode,p),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case _i:return p=Wi(c.type,c.key,c.props,null,d.mode,p),p.ref=dr(d,null,c),p.return=d,p;case Cn:return c=xl(c,d.mode,p),c.return=d,c;case St:var m=c._init;return h(d,m(c._payload),p)}if(_r(c)||lr(c))return c=on(c,d.mode,p,null),c.return=d,c;Vi(d,c)}return null}function v(d,c,p,m){var x=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return x!==null?null:s(d,c,""+p,m);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _i:return p.key===x?a(d,c,p,m):null;case Cn:return p.key===x?u(d,c,p,m):null;case St:return x=p._init,v(d,c,x(p._payload),m)}if(_r(p)||lr(p))return x!==null?null:f(d,c,p,m,null);Vi(d,p)}return null}function w(d,c,p,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return d=d.get(p)||null,s(c,d,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _i:return d=d.get(m.key===null?p:m.key)||null,a(c,d,m,x);case Cn:return d=d.get(m.key===null?p:m.key)||null,u(c,d,m,x);case St:var b=m._init;return w(d,c,p,b(m._payload),x)}if(_r(m)||lr(m))return d=d.get(p)||null,f(c,d,m,x,null);Vi(c,m)}return null}function _(d,c,p,m){for(var x=null,b=null,k=c,E=c=0,B=null;k!==null&&E<p.length;E++){k.index>E?(B=k,k=null):B=k.sibling;var T=v(d,k,p[E],m);if(T===null){k===null&&(k=B);break}t&&k&&T.alternate===null&&e(d,k),c=o(T,c,E),b===null?x=T:b.sibling=T,b=T,k=B}if(E===p.length)return n(d,k),G&&Zt(d,E),x;if(k===null){for(;E<p.length;E++)k=h(d,p[E],m),k!==null&&(c=o(k,c,E),b===null?x=k:b.sibling=k,b=k);return G&&Zt(d,E),x}for(k=r(d,k);E<p.length;E++)B=w(k,d,E,p[E],m),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?E:B.key),c=o(B,c,E),b===null?x=B:b.sibling=B,b=B);return t&&k.forEach(function(Ge){return e(d,Ge)}),G&&Zt(d,E),x}function y(d,c,p,m){var x=lr(p);if(typeof x!="function")throw Error(g(150));if(p=x.call(p),p==null)throw Error(g(151));for(var b=x=null,k=c,E=c=0,B=null,T=p.next();k!==null&&!T.done;E++,T=p.next()){k.index>E?(B=k,k=null):B=k.sibling;var Ge=v(d,k,T.value,m);if(Ge===null){k===null&&(k=B);break}t&&k&&Ge.alternate===null&&e(d,k),c=o(Ge,c,E),b===null?x=Ge:b.sibling=Ge,b=Ge,k=B}if(T.done)return n(d,k),G&&Zt(d,E),x;if(k===null){for(;!T.done;E++,T=p.next())T=h(d,T.value,m),T!==null&&(c=o(T,c,E),b===null?x=T:b.sibling=T,b=T);return G&&Zt(d,E),x}for(k=r(d,k);!T.done;E++,T=p.next())T=w(k,d,E,T.value,m),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?E:T.key),c=o(T,c,E),b===null?x=T:b.sibling=T,b=T);return t&&k.forEach(function(ir){return e(d,ir)}),G&&Zt(d,E),x}function F(d,c,p,m){if(typeof p=="object"&&p!==null&&p.type===Pn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case _i:e:{for(var x=p.key,b=c;b!==null;){if(b.key===x){if(x=p.type,x===Pn){if(b.tag===7){n(d,b.sibling),c=i(b,p.props.children),c.return=d,d=c;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===St&&Ru(x)===b.type){n(d,b.sibling),c=i(b,p.props),c.ref=dr(d,b,p),c.return=d,d=c;break e}n(d,b);break}else e(d,b);b=b.sibling}p.type===Pn?(c=on(p.props.children,d.mode,m,p.key),c.return=d,d=c):(m=Wi(p.type,p.key,p.props,null,d.mode,m),m.ref=dr(d,c,p),m.return=d,d=m)}return l(d);case Cn:e:{for(b=p.key;c!==null;){if(c.key===b)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(d,c.sibling),c=i(c,p.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else e(d,c);c=c.sibling}c=xl(p,d.mode,m),c.return=d,d=c}return l(d);case St:return b=p._init,F(d,c,b(p._payload),m)}if(_r(p))return _(d,c,p,m);if(lr(p))return y(d,c,p,m);Vi(d,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(d,c.sibling),c=i(c,p),c.return=d,d=c):(n(d,c),c=bl(p,d.mode,m),c.return=d,d=c),l(d)):n(d,c)}return F}var Kn=Yd(!0),qd=Yd(!1),co=Wt(null),po=null,Mn=null,Js=null;function ea(){Js=Mn=po=null}function ta(t){var e=co.current;$(co),t._currentValue=e}function ls(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bn(t,e){po=t,Js=Mn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(Js!==t)if(t={context:t,memoizedValue:e,next:null},Mn===null){if(po===null)throw Error(g(308));Mn=t,po.dependencies={lanes:0,firstContext:t}}else Mn=Mn.next=t;return e}var tn=null;function na(t){tn===null?tn=[t]:tn.push(t)}function Xd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,na(e)):(n.next=i.next,i.next=n),e.interleaved=n,gt(t,r)}function gt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tt=!1;function ra(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,O&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gt(t,n)}return i=r.interleaved,i===null?(e.next=e,na(r)):(e.next=i.next,i.next=e),r.interleaved=e,gt(t,n)}function Ii(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Us(t,n)}}function Nu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ho(t,e,n,r){var i=t.updateQueue;Tt=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==l&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;l=0,f=u=a=null,s=o;do{var v=s.lane,w=s.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,y=s;switch(v=e,w=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){h=_.call(w,h,v);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,v=typeof _=="function"?_.call(w,h,v):_,v==null)break e;h=Q({},h,v);break e;case 2:Tt=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[s]:v.push(s))}else w={eventTime:w,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=w,a=h):f=f.next=w,l|=v;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;v=s,s=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);cn|=l,t.lanes=l,t.memoizedState=h}}function Du(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(g(191,i));i.call(r)}}}var oi={},rt=Wt(oi),$r=Wt(oi),Gr=Wt(oi);function nn(t){if(t===oi)throw Error(g(174));return t}function ia(t,e){switch(j(Gr,e),j($r,t),j(rt,oi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jl(e,t)}$(rt),j(rt,e)}function Wn(){$(rt),$($r),$(Gr)}function Jd(t){nn(Gr.current);var e=nn(rt.current),n=jl(e,t.type);e!==n&&(j($r,t),j(rt,n))}function oa(t){$r.current===t&&($(rt),$($r))}var K=Wt(0);function fo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vl=[];function la(){for(var t=0;t<vl.length;t++)vl[t]._workInProgressVersionPrimary=null;vl.length=0}var Ui=bt.ReactCurrentDispatcher,ml=bt.ReactCurrentBatchConfig,un=0,W=null,ne=null,le=null,vo=!1,Sr=!1,Hr=0,Kv=0;function de(){throw Error(g(321))}function sa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xe(t[n],e[n]))return!1;return!0}function aa(t,e,n,r,i,o){if(un=o,W=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ui.current=t===null||t.memoizedState===null?qv:Xv,t=n(r,i),Sr){o=0;do{if(Sr=!1,Hr=0,25<=o)throw Error(g(301));o+=1,le=ne=null,e.updateQueue=null,Ui.current=Zv,t=n(r,i)}while(Sr)}if(Ui.current=mo,e=ne!==null&&ne.next!==null,un=0,le=ne=W=null,vo=!1,e)throw Error(g(300));return t}function ua(){var t=Hr!==0;return Hr=0,t}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?W.memoizedState=le=t:le=le.next=t,le}function $e(){if(ne===null){var t=W.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=le===null?W.memoizedState:le.next;if(e!==null)le=e,ne=t;else{if(t===null)throw Error(g(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},le===null?W.memoizedState=le=t:le=le.next=t}return le}function Kr(t,e){return typeof e=="function"?e(t):e}function gl(t){var e=$e(),n=e.queue;if(n===null)throw Error(g(311));n.lastRenderedReducer=t;var r=ne,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var f=u.lane;if((un&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=h,l=r):a=a.next=h,W.lanes|=f,cn|=f}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,Xe(r,e.memoizedState)||(xe=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,W.lanes|=o,cn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wl(t){var e=$e(),n=e.queue;if(n===null)throw Error(g(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Xe(o,e.memoizedState)||(xe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ep(){}function tp(t,e){var n=W,r=$e(),i=e(),o=!Xe(r.memoizedState,i);if(o&&(r.memoizedState=i,xe=!0),r=r.queue,ca(ip.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Wr(9,rp.bind(null,n,r,i,e),void 0,null),se===null)throw Error(g(349));un&30||np(n,e,i)}return i}function np(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=W.updateQueue,e===null?(e={lastEffect:null,stores:null},W.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rp(t,e,n,r){e.value=n,e.getSnapshot=r,op(e)&&lp(t)}function ip(t,e,n){return n(function(){op(e)&&lp(t)})}function op(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xe(t,n)}catch{return!0}}function lp(t){var e=gt(t,1);e!==null&&qe(e,t,1,-1)}function zu(t){var e=Je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},e.queue=t,t=t.dispatch=Yv.bind(null,W,t),[e.memoizedState,t]}function Wr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=W.updateQueue,e===null?(e={lastEffect:null,stores:null},W.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sp(){return $e().memoizedState}function $i(t,e,n,r){var i=Je();W.flags|=t,i.memoizedState=Wr(1|e,n,void 0,r===void 0?null:r)}function Ro(t,e,n,r){var i=$e();r=r===void 0?null:r;var o=void 0;if(ne!==null){var l=ne.memoizedState;if(o=l.destroy,r!==null&&sa(r,l.deps)){i.memoizedState=Wr(e,n,o,r);return}}W.flags|=t,i.memoizedState=Wr(1|e,n,o,r)}function Fu(t,e){return $i(8390656,8,t,e)}function ca(t,e){return Ro(2048,8,t,e)}function ap(t,e){return Ro(4,2,t,e)}function up(t,e){return Ro(4,4,t,e)}function cp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dp(t,e,n){return n=n!=null?n.concat([t]):null,Ro(4,4,cp.bind(null,e,t),n)}function da(){}function pp(t,e){var n=$e();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hp(t,e){var n=$e();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fp(t,e,n){return un&21?(Xe(n,e)||(n=_d(),W.lanes|=n,cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=n)}function Wv(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=ml.transition;ml.transition={};try{t(!1),e()}finally{z=n,ml.transition=r}}function vp(){return $e().memoizedState}function Qv(t,e,n){var r=jt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mp(t))gp(e,n);else if(n=Xd(t,e,n,r),n!==null){var i=me();qe(n,t,r,i),wp(n,e,r)}}function Yv(t,e,n){var r=jt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mp(t))gp(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,Xe(s,l)){var a=e.interleaved;a===null?(i.next=i,na(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Xd(t,e,i,r),n!==null&&(i=me(),qe(n,t,r,i),wp(n,e,r))}}function mp(t){var e=t.alternate;return t===W||e!==null&&e===W}function gp(t,e){Sr=vo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Us(t,n)}}var mo={readContext:Ue,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},qv={readContext:Ue,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:Fu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$i(4194308,4,cp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $i(4194308,4,t,e)},useInsertionEffect:function(t,e){return $i(4,2,t,e)},useMemo:function(t,e){var n=Je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Je();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Qv.bind(null,W,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:zu,useDebugValue:da,useDeferredValue:function(t){return Je().memoizedState=t},useTransition:function(){var t=zu(!1),e=t[0];return t=Wv.bind(null,t[1]),Je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=W,i=Je();if(G){if(n===void 0)throw Error(g(407));n=n()}else{if(n=e(),se===null)throw Error(g(349));un&30||np(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Fu(ip.bind(null,r,o,t),[t]),r.flags|=2048,Wr(9,rp.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Je(),e=se.identifierPrefix;if(G){var n=dt,r=ct;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xv={readContext:Ue,useCallback:pp,useContext:Ue,useEffect:ca,useImperativeHandle:dp,useInsertionEffect:ap,useLayoutEffect:up,useMemo:hp,useReducer:gl,useRef:sp,useState:function(){return gl(Kr)},useDebugValue:da,useDeferredValue:function(t){var e=$e();return fp(e,ne.memoizedState,t)},useTransition:function(){var t=gl(Kr)[0],e=$e().memoizedState;return[t,e]},useMutableSource:ep,useSyncExternalStore:tp,useId:vp,unstable_isNewReconciler:!1},Zv={readContext:Ue,useCallback:pp,useContext:Ue,useEffect:ca,useImperativeHandle:dp,useInsertionEffect:ap,useLayoutEffect:up,useMemo:hp,useReducer:wl,useRef:sp,useState:function(){return wl(Kr)},useDebugValue:da,useDeferredValue:function(t){var e=$e();return ne===null?e.memoizedState=t:fp(e,ne.memoizedState,t)},useTransition:function(){var t=wl(Kr)[0],e=$e().memoizedState;return[t,e]},useMutableSource:ep,useSyncExternalStore:tp,useId:vp,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ss(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var No={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=me(),i=jt(t),o=ht(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ft(t,o,i),e!==null&&(qe(e,t,i,r),Ii(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=me(),i=jt(t),o=ht(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ft(t,o,i),e!==null&&(qe(e,t,i,r),Ii(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=me(),r=jt(t),i=ht(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ft(t,i,r),e!==null&&(qe(e,t,r,n),Ii(e,t,r))}};function Bu(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Br(n,r)||!Br(i,o):!0}function _p(t,e,n){var r=!1,i=Gt,o=e.contextType;return typeof o=="object"&&o!==null?o=Ue(o):(i=ke(e)?sn:fe.current,r=e.contextTypes,o=(r=r!=null)?Gn(t,i):Gt),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=No,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ju(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&No.enqueueReplaceState(e,e.state,null)}function as(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ra(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ue(o):(o=ke(e)?sn:fe.current,i.context=Gn(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ss(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&No.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qn(t,e){try{var n="",r=e;do n+=Ef(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function _l(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function us(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jv=typeof WeakMap=="function"?WeakMap:Map;function yp(t,e,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wo||(wo=!0,_s=r),us(t,e)},n}function bp(t,e,n){n=ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){us(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){us(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Iu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hm.bind(null,t,e,n),e.then(t,t))}function Uu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $u(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ht(-1,1),e.tag=2,Ft(n,e,1))),n.lanes|=1),t)}var em=bt.ReactCurrentOwner,xe=!1;function ve(t,e,n,r){e.child=t===null?qd(e,null,n,r):Kn(e,t.child,n,r)}function Gu(t,e,n,r,i){n=n.render;var o=e.ref;return Bn(e,i),r=aa(t,e,n,r,o,i),n=ua(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wt(t,e,i)):(G&&n&&qs(e),e.flags|=1,ve(t,e,r,i),e.child)}function Hu(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_a(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,xp(t,e,o,r,i)):(t=Wi(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Br,n(l,r)&&t.ref===e.ref)return wt(t,e,i)}return e.flags|=1,t=It(o,r),t.ref=e.ref,t.return=e,e.child=t}function xp(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Br(o,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,wt(t,e,i)}return cs(t,e,n,r,i)}function Cp(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},j(Rn,Te),Te|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,j(Rn,Te),Te|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,j(Rn,Te),Te|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,j(Rn,Te),Te|=r;return ve(t,e,i,n),e.child}function Pp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cs(t,e,n,r,i){var o=ke(n)?sn:fe.current;return o=Gn(e,o),Bn(e,i),n=aa(t,e,n,r,o,i),r=ua(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wt(t,e,i)):(G&&r&&qs(e),e.flags|=1,ve(t,e,n,i),e.child)}function Ku(t,e,n,r,i){if(ke(n)){var o=!0;so(e)}else o=!1;if(Bn(e,i),e.stateNode===null)Gi(t,e),_p(e,n,r),as(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=ke(n)?sn:fe.current,u=Gn(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&ju(e,l,r,u),Tt=!1;var v=e.memoizedState;l.state=v,ho(e,r,l,i),a=e.memoizedState,s!==r||v!==a||Pe.current||Tt?(typeof f=="function"&&(ss(e,n,f,r),a=e.memoizedState),(s=Tt||Bu(e,n,s,r,v,a,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Zd(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Ke(e.type,s),l.props=u,h=e.pendingProps,v=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=ke(n)?sn:fe.current,a=Gn(e,a));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==h||v!==a)&&ju(e,l,r,a),Tt=!1,v=e.memoizedState,l.state=v,ho(e,r,l,i);var _=e.memoizedState;s!==h||v!==_||Pe.current||Tt?(typeof w=="function"&&(ss(e,n,w,r),_=e.memoizedState),(u=Tt||Bu(e,n,u,r,v,_,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,_,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,_,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),l.props=r,l.state=_,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return ds(t,e,n,r,o,i)}function ds(t,e,n,r,i,o){Pp(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Au(e,n,!1),wt(t,e,o);r=e.stateNode,em.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Kn(e,t.child,null,o),e.child=Kn(e,null,s,o)):ve(t,e,s,o),e.memoizedState=r.state,i&&Au(e,n,!0),e.child}function kp(t){var e=t.stateNode;e.pendingContext?Vu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vu(t,e.context,!1),ia(t,e.containerInfo)}function Wu(t,e,n,r,i){return Hn(),Zs(i),e.flags|=256,ve(t,e,n,r),e.child}var ps={dehydrated:null,treeContext:null,retryLane:0};function hs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ep(t,e,n){var r=e.pendingProps,i=K.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),j(K,i&1),t===null)return os(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Fo(l,r,0,null),t=on(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hs(n),e.memoizedState=ps,t):pa(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return tm(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=It(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=It(s,o):(o=on(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?hs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=ps,r}return o=t.child,t=o.sibling,r=It(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pa(t,e){return e=Fo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ai(t,e,n,r){return r!==null&&Zs(r),Kn(e,t.child,null,n),t=pa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tm(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=_l(Error(g(422))),Ai(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fo({mode:"visible",children:r.children},i,0,null),o=on(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Kn(e,t.child,null,l),e.child.memoizedState=hs(l),e.memoizedState=ps,o);if(!(e.mode&1))return Ai(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(g(419)),r=_l(o,r,void 0),Ai(t,e,l,r)}if(s=(l&t.childLanes)!==0,xe||s){if(r=se,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,gt(t,i),qe(r,t,i,-1))}return wa(),r=_l(Error(g(421))),Ai(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fm.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Le=zt(i.nextSibling),Ve=e,G=!0,Qe=null,t!==null&&(ze[Fe++]=ct,ze[Fe++]=dt,ze[Fe++]=an,ct=t.id,dt=t.overflow,an=e),e=pa(e,r.children),e.flags|=4096,e)}function Qu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ls(t.return,e,n)}function yl(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Sp(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ve(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qu(t,n,e);else if(t.tag===19)Qu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(j(K,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yl(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yl(e,!0,n,null,o);break;case"together":yl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(g(153));if(e.child!==null){for(t=e.child,n=It(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=It(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nm(t,e,n){switch(e.tag){case 3:kp(e),Hn();break;case 5:Jd(e);break;case 1:ke(e.type)&&so(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;j(co,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(j(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Ep(t,e,n):(j(K,K.current&1),t=wt(t,e,n),t!==null?t.sibling:null);j(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),j(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,Cp(t,e,n)}return wt(t,e,n)}var Tp,fs,Lp,Vp;Tp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fs=function(){};Lp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,nn(rt.current);var o=null;switch(n){case"input":i=Dl(t,i),r=Dl(t,r),o=[];break;case"select":i=Q({},i,{value:void 0}),r=Q({},r,{value:void 0}),o=[];break;case"textarea":i=Bl(t,i),r=Bl(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oo)}Il(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&U("scroll",t),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Vp=function(t,e,n,r){n!==r&&(e.flags|=4)};function pr(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rm(t,e,n){var r=e.pendingProps;switch(Xs(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return ke(e.type)&&lo(),pe(e),null;case 3:return r=e.stateNode,Wn(),$(Pe),$(fe),la(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Li(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(xs(Qe),Qe=null))),fs(t,e),pe(e),null;case 5:oa(e);var i=nn(Gr.current);if(n=e.type,t!==null&&e.stateNode!=null)Lp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(g(166));return pe(e),null}if(t=nn(rt.current),Li(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[et]=e,r[Ur]=o,t=(e.mode&1)!==0,n){case"dialog":U("cancel",r),U("close",r);break;case"iframe":case"object":case"embed":U("load",r);break;case"video":case"audio":for(i=0;i<br.length;i++)U(br[i],r);break;case"source":U("error",r);break;case"img":case"image":case"link":U("error",r),U("load",r);break;case"details":U("toggle",r);break;case"input":ru(r,o),U("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},U("invalid",r);break;case"textarea":ou(r,o),U("invalid",r)}Il(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ti(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ti(r.textContent,s,t),i=["children",""+s]):Mr.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&U("scroll",r)}switch(n){case"input":yi(r),iu(r,o,!0);break;case"textarea":yi(r),lu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=oo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=id(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[et]=e,t[Ur]=r,Tp(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ul(n,r),n){case"dialog":U("cancel",t),U("close",t),i=r;break;case"iframe":case"object":case"embed":U("load",t),i=r;break;case"video":case"audio":for(i=0;i<br.length;i++)U(br[i],t);i=r;break;case"source":U("error",t),i=r;break;case"img":case"image":case"link":U("error",t),U("load",t),i=r;break;case"details":U("toggle",t),i=r;break;case"input":ru(t,r),i=Dl(t,r),U("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Q({},r,{value:void 0}),U("invalid",t);break;case"textarea":ou(t,r),i=Bl(t,r),U("invalid",t);break;default:i=r}Il(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?sd(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&od(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Or(t,a):typeof a=="number"&&Or(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&U("scroll",t):a!=null&&Ds(t,o,a,l))}switch(n){case"input":yi(t),iu(t,r,!1);break;case"textarea":yi(t),lu(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$t(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Nn(t,!!r.multiple,o,!1):r.defaultValue!=null&&Nn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Vp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(g(166));if(n=nn(Gr.current),nn(rt.current),Li(e)){if(r=e.stateNode,n=e.memoizedProps,r[et]=e,(o=r.nodeValue!==n)&&(t=Ve,t!==null))switch(t.tag){case 3:Ti(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ti(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[et]=e,e.stateNode=r}return pe(e),null;case 13:if($(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Le!==null&&e.mode&1&&!(e.flags&128))Qd(),Hn(),e.flags|=98560,o=!1;else if(o=Li(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(g(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(g(317));o[et]=e}else Hn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),o=!1}else Qe!==null&&(xs(Qe),Qe=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?re===0&&(re=3):wa())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Wn(),fs(t,e),t===null&&jr(e.stateNode.containerInfo),pe(e),null;case 10:return ta(e.type._context),pe(e),null;case 17:return ke(e.type)&&lo(),pe(e),null;case 19:if($(K),o=e.memoizedState,o===null)return pe(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)pr(o,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=fo(t),l!==null){for(e.flags|=128,pr(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return j(K,K.current&1|2),e.child}t=t.sibling}o.tail!==null&&J()>Yn&&(e.flags|=128,r=!0,pr(o,!1),e.lanes=4194304)}else{if(!r)if(t=fo(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!G)return pe(e),null}else 2*J()-o.renderingStartTime>Yn&&n!==1073741824&&(e.flags|=128,r=!0,pr(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=J(),e.sibling=null,n=K.current,j(K,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return ga(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Te&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(g(156,e.tag))}function im(t,e){switch(Xs(e),e.tag){case 1:return ke(e.type)&&lo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wn(),$(Pe),$(fe),la(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oa(e),null;case 13:if($(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(g(340));Hn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $(K),null;case 4:return Wn(),null;case 10:return ta(e.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var Mi=!1,he=!1,om=typeof WeakSet=="function"?WeakSet:Set,C=null;function On(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){q(t,e,r)}else n.current=null}function vs(t,e,n){try{n()}catch(r){q(t,e,r)}}var Yu=!1;function lm(t,e){if(Zl=no,t=Nd(),Ys(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,f=0,h=t,v=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(s=l+i),h!==o||r!==0&&h.nodeType!==3||(a=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(w=h.firstChild)!==null;)v=h,h=w;for(;;){if(h===t)break t;if(v===n&&++u===i&&(s=l),v===o&&++f===r&&(a=l),(w=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=w}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jl={focusedElem:t,selectionRange:n},no=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,F=_.memoizedState,d=e.stateNode,c=d.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ke(e.type,y),F);d.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(m){q(e,e.return,m)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return _=Yu,Yu=!1,_}function Tr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&vs(e,n,o)}i=i.next}while(i!==r)}}function Do(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ms(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ap(t){var e=t.alternate;e!==null&&(t.alternate=null,Ap(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[et],delete e[Ur],delete e[ns],delete e[Uv],delete e[$v])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mp(t){return t.tag===5||t.tag===3||t.tag===4}function qu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gs(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oo));else if(r!==4&&(t=t.child,t!==null))for(gs(t,e,n),t=t.sibling;t!==null;)gs(t,e,n),t=t.sibling}function ws(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ws(t,e,n),t=t.sibling;t!==null;)ws(t,e,n),t=t.sibling}var ae=null,We=!1;function Ct(t,e,n){for(n=n.child;n!==null;)Op(t,e,n),n=n.sibling}function Op(t,e,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(To,n)}catch{}switch(n.tag){case 5:he||On(n,e);case 6:var r=ae,i=We;ae=null,Ct(t,e,n),ae=r,We=i,ae!==null&&(We?(t=ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(We?(t=ae,n=n.stateNode,t.nodeType===8?hl(t.parentNode,n):t.nodeType===1&&hl(t,n),zr(t)):hl(ae,n.stateNode));break;case 4:r=ae,i=We,ae=n.stateNode.containerInfo,We=!0,Ct(t,e,n),ae=r,We=i;break;case 0:case 11:case 14:case 15:if(!he&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&vs(n,e,l),i=i.next}while(i!==r)}Ct(t,e,n);break;case 1:if(!he&&(On(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){q(n,e,s)}Ct(t,e,n);break;case 21:Ct(t,e,n);break;case 22:n.mode&1?(he=(r=he)||n.memoizedState!==null,Ct(t,e,n),he=r):Ct(t,e,n);break;default:Ct(t,e,n)}}function Xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new om),e.forEach(function(r){var i=vm.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function He(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:ae=s.stateNode,We=!1;break e;case 3:ae=s.stateNode.containerInfo,We=!0;break e;case 4:ae=s.stateNode.containerInfo,We=!0;break e}s=s.return}if(ae===null)throw Error(g(160));Op(o,l,i),ae=null,We=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){q(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rp(e,t),e=e.sibling}function Rp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),Ze(t),r&4){try{Tr(3,t,t.return),Do(3,t)}catch(y){q(t,t.return,y)}try{Tr(5,t,t.return)}catch(y){q(t,t.return,y)}}break;case 1:He(e,t),Ze(t),r&512&&n!==null&&On(n,n.return);break;case 5:if(He(e,t),Ze(t),r&512&&n!==null&&On(n,n.return),t.flags&32){var i=t.stateNode;try{Or(i,"")}catch(y){q(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&nd(i,o),Ul(s,l);var u=Ul(s,o);for(l=0;l<a.length;l+=2){var f=a[l],h=a[l+1];f==="style"?sd(i,h):f==="dangerouslySetInnerHTML"?od(i,h):f==="children"?Or(i,h):Ds(i,f,h,u)}switch(s){case"input":zl(i,o);break;case"textarea":rd(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Nn(i,!!o.multiple,w,!1):v!==!!o.multiple&&(o.defaultValue!=null?Nn(i,!!o.multiple,o.defaultValue,!0):Nn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ur]=o}catch(y){q(t,t.return,y)}}break;case 6:if(He(e,t),Ze(t),r&4){if(t.stateNode===null)throw Error(g(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){q(t,t.return,y)}}break;case 3:if(He(e,t),Ze(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(e.containerInfo)}catch(y){q(t,t.return,y)}break;case 4:He(e,t),Ze(t);break;case 13:He(e,t),Ze(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(va=J())),r&4&&Xu(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(he=(u=he)||f,He(e,t),he=u):He(e,t),Ze(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(C=t,f=t.child;f!==null;){for(h=C=f;C!==null;){switch(v=C,w=v.child,v.tag){case 0:case 11:case 14:case 15:Tr(4,v,v.return);break;case 1:On(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){q(r,n,y)}}break;case 5:On(v,v.return);break;case 22:if(v.memoizedState!==null){Ju(h);continue}}w!==null?(w.return=v,C=w):Ju(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,a=h.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=ld("display",l))}catch(y){q(t,t.return,y)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){q(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:He(e,t),Ze(t),r&4&&Xu(t);break;case 21:break;default:He(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mp(n)){var r=n;break e}n=n.return}throw Error(g(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Or(i,""),r.flags&=-33);var o=qu(t);ws(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=qu(t);gs(t,s,l);break;default:throw Error(g(161))}}catch(a){q(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sm(t,e,n){C=t,Np(t)}function Np(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var i=C,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Mi;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||he;s=Mi;var u=he;if(Mi=l,(he=a)&&!u)for(C=i;C!==null;)l=C,a=l.child,l.tag===22&&l.memoizedState!==null?ec(i):a!==null?(a.return=l,C=a):ec(i);for(;o!==null;)C=o,Np(o),o=o.sibling;C=i,Mi=s,he=u}Zu(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,C=o):Zu(t)}}function Zu(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:he||Do(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!he)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Du(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Du(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&zr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}he||e.flags&512&&ms(e)}catch(v){q(e,e.return,v)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function Ju(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function ec(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Do(4,e)}catch(a){q(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){q(e,i,a)}}var o=e.return;try{ms(e)}catch(a){q(e,o,a)}break;case 5:var l=e.return;try{ms(e)}catch(a){q(e,l,a)}}}catch(a){q(e,e.return,a)}if(e===t){C=null;break}var s=e.sibling;if(s!==null){s.return=e.return,C=s;break}C=e.return}}var am=Math.ceil,go=bt.ReactCurrentDispatcher,ha=bt.ReactCurrentOwner,Ie=bt.ReactCurrentBatchConfig,O=0,se=null,ee=null,ue=0,Te=0,Rn=Wt(0),re=0,Qr=null,cn=0,zo=0,fa=0,Lr=null,be=null,va=0,Yn=1/0,st=null,wo=!1,_s=null,Bt=null,Oi=!1,Mt=null,_o=0,Vr=0,ys=null,Hi=-1,Ki=0;function me(){return O&6?J():Hi!==-1?Hi:Hi=J()}function jt(t){return t.mode&1?O&2&&ue!==0?ue&-ue:Hv.transition!==null?(Ki===0&&(Ki=_d()),Ki):(t=z,t!==0||(t=window.event,t=t===void 0?16:Ed(t.type)),t):1}function qe(t,e,n,r){if(50<Vr)throw Vr=0,ys=null,Error(g(185));ni(t,n,r),(!(O&2)||t!==se)&&(t===se&&(!(O&2)&&(zo|=n),re===4&&Vt(t,ue)),Ee(t,r),n===1&&O===0&&!(e.mode&1)&&(Yn=J()+500,Oo&&Qt()))}function Ee(t,e){var n=t.callbackNode;Hf(t,e);var r=to(t,t===se?ue:0);if(r===0)n!==null&&uu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uu(n),e===1)t.tag===0?Gv(tc.bind(null,t)):Hd(tc.bind(null,t)),jv(function(){!(O&6)&&Qt()}),n=null;else{switch(yd(r)){case 1:n=Is;break;case 4:n=gd;break;case 16:n=eo;break;case 536870912:n=wd;break;default:n=eo}n=$p(n,Dp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dp(t,e){if(Hi=-1,Ki=0,O&6)throw Error(g(327));var n=t.callbackNode;if(jn()&&t.callbackNode!==n)return null;var r=to(t,t===se?ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yo(t,r);else{e=r;var i=O;O|=2;var o=Fp();(se!==t||ue!==e)&&(st=null,Yn=J()+500,rn(t,e));do try{dm();break}catch(s){zp(t,s)}while(!0);ea(),go.current=o,O=i,ee!==null?e=0:(se=null,ue=0,e=re)}if(e!==0){if(e===2&&(i=Wl(t),i!==0&&(r=i,e=bs(t,i))),e===1)throw n=Qr,rn(t,0),Vt(t,r),Ee(t,J()),n;if(e===6)Vt(t,r);else{if(i=t.current.alternate,!(r&30)&&!um(i)&&(e=yo(t,r),e===2&&(o=Wl(t),o!==0&&(r=o,e=bs(t,o))),e===1))throw n=Qr,rn(t,0),Vt(t,r),Ee(t,J()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(g(345));case 2:Jt(t,be,st);break;case 3:if(Vt(t,r),(r&130023424)===r&&(e=va+500-J(),10<e)){if(to(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){me(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ts(Jt.bind(null,t,be,st),e);break}Jt(t,be,st);break;case 4:if(Vt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Ye(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*am(r/1960))-r,10<r){t.timeoutHandle=ts(Jt.bind(null,t,be,st),r);break}Jt(t,be,st);break;case 5:Jt(t,be,st);break;default:throw Error(g(329))}}}return Ee(t,J()),t.callbackNode===n?Dp.bind(null,t):null}function bs(t,e){var n=Lr;return t.current.memoizedState.isDehydrated&&(rn(t,e).flags|=256),t=yo(t,e),t!==2&&(e=be,be=n,e!==null&&xs(e)),t}function xs(t){be===null?be=t:be.push.apply(be,t)}function um(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xe(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vt(t,e){for(e&=~fa,e&=~zo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ye(e),r=1<<n;t[n]=-1,e&=~r}}function tc(t){if(O&6)throw Error(g(327));jn();var e=to(t,0);if(!(e&1))return Ee(t,J()),null;var n=yo(t,e);if(t.tag!==0&&n===2){var r=Wl(t);r!==0&&(e=r,n=bs(t,r))}if(n===1)throw n=Qr,rn(t,0),Vt(t,e),Ee(t,J()),n;if(n===6)throw Error(g(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jt(t,be,st),Ee(t,J()),null}function ma(t,e){var n=O;O|=1;try{return t(e)}finally{O=n,O===0&&(Yn=J()+500,Oo&&Qt())}}function dn(t){Mt!==null&&Mt.tag===0&&!(O&6)&&jn();var e=O;O|=1;var n=Ie.transition,r=z;try{if(Ie.transition=null,z=1,t)return t()}finally{z=r,Ie.transition=n,O=e,!(O&6)&&Qt()}}function ga(){Te=Rn.current,$(Rn)}function rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bv(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(Xs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lo();break;case 3:Wn(),$(Pe),$(fe),la();break;case 5:oa(r);break;case 4:Wn();break;case 13:$(K);break;case 19:$(K);break;case 10:ta(r.type._context);break;case 22:case 23:ga()}n=n.return}if(se=t,ee=t=It(t.current,null),ue=Te=e,re=0,Qr=null,fa=zo=cn=0,be=Lr=null,tn!==null){for(e=0;e<tn.length;e++)if(n=tn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}tn=null}return t}function zp(t,e){do{var n=ee;try{if(ea(),Ui.current=mo,vo){for(var r=W.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vo=!1}if(un=0,le=ne=W=null,Sr=!1,Hr=0,ha.current=null,n===null||n.return===null){re=1,Qr=e,ee=null;break}e:{var o=t,l=n.return,s=n,a=e;if(e=ue,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Uu(l);if(w!==null){w.flags&=-257,$u(w,l,s,o,e),w.mode&1&&Iu(o,u,e),e=w,a=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(a),e.updateQueue=y}else _.add(a);break e}else{if(!(e&1)){Iu(o,u,e),wa();break e}a=Error(g(426))}}else if(G&&s.mode&1){var F=Uu(l);if(F!==null){!(F.flags&65536)&&(F.flags|=256),$u(F,l,s,o,e),Zs(Qn(a,s));break e}}o=a=Qn(a,s),re!==4&&(re=2),Lr===null?Lr=[o]:Lr.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var d=yp(o,a,e);Nu(o,d);break e;case 1:s=a;var c=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bt===null||!Bt.has(p)))){o.flags|=65536,e&=-e,o.lanes|=e;var m=bp(o,s,e);Nu(o,m);break e}}o=o.return}while(o!==null)}jp(n)}catch(x){e=x,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function Fp(){var t=go.current;return go.current=mo,t===null?mo:t}function wa(){(re===0||re===3||re===2)&&(re=4),se===null||!(cn&268435455)&&!(zo&268435455)||Vt(se,ue)}function yo(t,e){var n=O;O|=2;var r=Fp();(se!==t||ue!==e)&&(st=null,rn(t,e));do try{cm();break}catch(i){zp(t,i)}while(!0);if(ea(),O=n,go.current=r,ee!==null)throw Error(g(261));return se=null,ue=0,re}function cm(){for(;ee!==null;)Bp(ee)}function dm(){for(;ee!==null&&!Df();)Bp(ee)}function Bp(t){var e=Up(t.alternate,t,Te);t.memoizedProps=t.pendingProps,e===null?jp(t):ee=e,ha.current=null}function jp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=im(n,e),n!==null){n.flags&=32767,ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,ee=null;return}}else if(n=rm(n,e,Te),n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);re===0&&(re=5)}function Jt(t,e,n){var r=z,i=Ie.transition;try{Ie.transition=null,z=1,pm(t,e,n,r)}finally{Ie.transition=i,z=r}return null}function pm(t,e,n,r){do jn();while(Mt!==null);if(O&6)throw Error(g(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(g(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kf(t,o),t===se&&(ee=se=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oi||(Oi=!0,$p(eo,function(){return jn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ie.transition,Ie.transition=null;var l=z;z=1;var s=O;O|=4,ha.current=null,lm(t,n),Rp(n,t),Mv(Jl),no=!!Zl,Jl=Zl=null,t.current=n,sm(n),zf(),O=s,z=l,Ie.transition=o}else t.current=n;if(Oi&&(Oi=!1,Mt=t,_o=i),o=t.pendingLanes,o===0&&(Bt=null),jf(n.stateNode),Ee(t,J()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wo)throw wo=!1,t=_s,_s=null,t;return _o&1&&t.tag!==0&&jn(),o=t.pendingLanes,o&1?t===ys?Vr++:(Vr=0,ys=t):Vr=0,Qt(),null}function jn(){if(Mt!==null){var t=yd(_o),e=Ie.transition,n=z;try{if(Ie.transition=null,z=16>t?16:t,Mt===null)var r=!1;else{if(t=Mt,Mt=null,_o=0,O&6)throw Error(g(331));var i=O;for(O|=4,C=t.current;C!==null;){var o=C,l=o.child;if(C.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(C=u;C!==null;){var f=C;switch(f.tag){case 0:case 11:case 15:Tr(8,f,o)}var h=f.child;if(h!==null)h.return=f,C=h;else for(;C!==null;){f=C;var v=f.sibling,w=f.return;if(Ap(f),f===u){C=null;break}if(v!==null){v.return=w,C=v;break}C=w}}}var _=o.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var F=y.sibling;y.sibling=null,y=F}while(y!==null)}}C=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,C=l;else e:for(;C!==null;){if(o=C,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Tr(9,o,o.return)}var d=o.sibling;if(d!==null){d.return=o.return,C=d;break e}C=o.return}}var c=t.current;for(C=c;C!==null;){l=C;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,C=p;else e:for(l=c;C!==null;){if(s=C,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Do(9,s)}}catch(x){q(s,s.return,x)}if(s===l){C=null;break e}var m=s.sibling;if(m!==null){m.return=s.return,C=m;break e}C=s.return}}if(O=i,Qt(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(To,t)}catch{}r=!0}return r}finally{z=n,Ie.transition=e}}return!1}function nc(t,e,n){e=Qn(n,e),e=yp(t,e,1),t=Ft(t,e,1),e=me(),t!==null&&(ni(t,1,e),Ee(t,e))}function q(t,e,n){if(t.tag===3)nc(t,t,n);else for(;e!==null;){if(e.tag===3){nc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=Qn(n,t),t=bp(e,t,1),e=Ft(e,t,1),t=me(),e!==null&&(ni(e,1,t),Ee(e,t));break}}e=e.return}}function hm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=me(),t.pingedLanes|=t.suspendedLanes&n,se===t&&(ue&n)===n&&(re===4||re===3&&(ue&130023424)===ue&&500>J()-va?rn(t,0):fa|=n),Ee(t,e)}function Ip(t,e){e===0&&(t.mode&1?(e=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):e=1);var n=me();t=gt(t,e),t!==null&&(ni(t,e,n),Ee(t,n))}function fm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ip(t,n)}function vm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(g(314))}r!==null&&r.delete(e),Ip(t,n)}var Up;Up=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xe=!1,nm(t,e,n);xe=!!(t.flags&131072)}else xe=!1,G&&e.flags&1048576&&Kd(e,uo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gi(t,e),t=e.pendingProps;var i=Gn(e,fe.current);Bn(e,n),i=aa(null,e,r,t,i,n);var o=ua();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ke(r)?(o=!0,so(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ra(e),i.updater=No,e.stateNode=i,i._reactInternals=e,as(e,r,t,n),e=ds(null,e,r,!0,o,n)):(e.tag=0,G&&o&&qs(e),ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gi(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gm(r),t=Ke(r,t),i){case 0:e=cs(null,e,r,t,n);break e;case 1:e=Ku(null,e,r,t,n);break e;case 11:e=Gu(null,e,r,t,n);break e;case 14:e=Hu(null,e,r,Ke(r.type,t),n);break e}throw Error(g(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),cs(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Ku(t,e,r,i,n);case 3:e:{if(kp(e),t===null)throw Error(g(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Zd(t,e),ho(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qn(Error(g(423)),e),e=Wu(t,e,r,n,i);break e}else if(r!==i){i=Qn(Error(g(424)),e),e=Wu(t,e,r,n,i);break e}else for(Le=zt(e.stateNode.containerInfo.firstChild),Ve=e,G=!0,Qe=null,n=qd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===i){e=wt(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return Jd(e),t===null&&os(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,es(r,i)?l=null:o!==null&&es(r,o)&&(e.flags|=32),Pp(t,e),ve(t,e,l,n),e.child;case 6:return t===null&&os(e),null;case 13:return Ep(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kn(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Gu(t,e,r,i,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,j(co,r._currentValue),r._currentValue=l,o!==null)if(Xe(o.value,l)){if(o.children===i.children&&!Pe.current){e=wt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=ht(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ls(o.return,n,e),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(g(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),ls(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bn(e,n),i=Ue(i),r=r(i),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,i=Ke(r,e.pendingProps),i=Ke(r.type,i),Hu(t,e,r,i,n);case 15:return xp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Gi(t,e),e.tag=1,ke(r)?(t=!0,so(e)):t=!1,Bn(e,n),_p(e,r,i),as(e,r,i,n),ds(null,e,r,!0,t,n);case 19:return Sp(t,e,n);case 22:return Cp(t,e,n)}throw Error(g(156,e.tag))};function $p(t,e){return md(t,e)}function mm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,n,r){return new mm(t,e,n,r)}function _a(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gm(t){if(typeof t=="function")return _a(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fs)return 11;if(t===Bs)return 14}return 2}function It(t,e){var n=t.alternate;return n===null?(n=Be(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wi(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")_a(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Pn:return on(n.children,i,o,e);case zs:l=8,i|=8;break;case Ml:return t=Be(12,n,e,i|2),t.elementType=Ml,t.lanes=o,t;case Ol:return t=Be(13,n,e,i),t.elementType=Ol,t.lanes=o,t;case Rl:return t=Be(19,n,e,i),t.elementType=Rl,t.lanes=o,t;case Jc:return Fo(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xc:l=10;break e;case Zc:l=9;break e;case Fs:l=11;break e;case Bs:l=14;break e;case St:l=16,r=null;break e}throw Error(g(130,t==null?t:typeof t,""))}return e=Be(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function on(t,e,n,r){return t=Be(7,t,r,e),t.lanes=n,t}function Fo(t,e,n,r){return t=Be(22,t,r,e),t.elementType=Jc,t.lanes=n,t.stateNode={isHidden:!1},t}function bl(t,e,n){return t=Be(6,t,null,e),t.lanes=n,t}function xl(t,e,n){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ya(t,e,n,r,i,o,l,s,a){return t=new wm(t,e,n,s,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Be(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(o),t}function _m(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gp(t){if(!t)return Gt;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(g(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(g(171))}if(t.tag===1){var n=t.type;if(ke(n))return Gd(t,n,e)}return e}function Hp(t,e,n,r,i,o,l,s,a){return t=ya(n,r,!0,t,i,o,l,s,a),t.context=Gp(null),n=t.current,r=me(),i=jt(n),o=ht(r,i),o.callback=e??null,Ft(n,o,i),t.current.lanes=i,ni(t,i,r),Ee(t,r),t}function Bo(t,e,n,r){var i=e.current,o=me(),l=jt(i);return n=Gp(n),e.context===null?e.context=n:e.pendingContext=n,e=ht(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ft(i,e,l),t!==null&&(qe(t,i,l,o),Ii(t,i,l)),l}function bo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ba(t,e){rc(t,e),(t=t.alternate)&&rc(t,e)}function ym(){return null}var Kp=typeof reportError=="function"?reportError:function(t){console.error(t)};function xa(t){this._internalRoot=t}jo.prototype.render=xa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(g(409));Bo(t,e,null,null)};jo.prototype.unmount=xa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dn(function(){Bo(null,t,null,null)}),e[mt]=null}};function jo(t){this._internalRoot=t}jo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lt.length&&e!==0&&e<Lt[n].priority;n++);Lt.splice(n,0,t),n===0&&kd(t)}};function Ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ic(){}function bm(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=bo(l);o.call(u)}}var l=Hp(e,r,t,0,null,!1,!1,"",ic);return t._reactRootContainer=l,t[mt]=l.current,jr(t.nodeType===8?t.parentNode:t),dn(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=bo(a);s.call(u)}}var a=ya(t,0,!1,null,null,!1,!1,"",ic);return t._reactRootContainer=a,t[mt]=a.current,jr(t.nodeType===8?t.parentNode:t),dn(function(){Bo(e,a,n,r)}),a}function Uo(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=bo(l);s.call(a)}}Bo(e,l,t,i)}else l=bm(n,e,t,i,r);return bo(l)}bd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yr(e.pendingLanes);n!==0&&(Us(e,n|1),Ee(e,J()),!(O&6)&&(Yn=J()+500,Qt()))}break;case 13:dn(function(){var r=gt(t,1);if(r!==null){var i=me();qe(r,t,1,i)}}),ba(t,1)}};$s=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var n=me();qe(e,t,134217728,n)}ba(t,134217728)}};xd=function(t){if(t.tag===13){var e=jt(t),n=gt(t,e);if(n!==null){var r=me();qe(n,t,e,r)}ba(t,e)}};Cd=function(){return z};Pd=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};Gl=function(t,e,n){switch(e){case"input":if(zl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mo(r);if(!i)throw Error(g(90));td(r),zl(r,i)}}}break;case"textarea":rd(t,n);break;case"select":e=n.value,e!=null&&Nn(t,!!n.multiple,e,!1)}};cd=ma;dd=dn;var xm={usingClientEntryPoint:!1,Events:[ii,Tn,Mo,ad,ud,ma]},hr={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cm={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fd(t),t===null?null:t.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{To=Ri.inject(Cm),nt=Ri}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;Me.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(e))throw Error(g(200));return _m(t,e,null,n)};Me.createRoot=function(t,e){if(!Ca(t))throw Error(g(299));var n=!1,r="",i=Kp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ya(t,1,!1,null,null,n,!1,r,i),t[mt]=e.current,jr(t.nodeType===8?t.parentNode:t),new xa(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(g(188)):(t=Object.keys(t).join(","),Error(g(268,t)));return t=fd(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return dn(t)};Me.hydrate=function(t,e,n){if(!Io(e))throw Error(g(200));return Uo(null,t,e,!0,n)};Me.hydrateRoot=function(t,e,n){if(!Ca(t))throw Error(g(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Kp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Hp(e,null,t,1,n??null,i,!1,o,l),t[mt]=e.current,jr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jo(e)};Me.render=function(t,e,n){if(!Io(e))throw Error(g(200));return Uo(null,t,e,!1,n)};Me.unmountComponentAtNode=function(t){if(!Io(t))throw Error(g(40));return t._reactRootContainer?(dn(function(){Uo(null,null,t,!1,function(){t._reactRootContainer=null,t[mt]=null})}),!0):!1};Me.unstable_batchedUpdates=ma;Me.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Io(n))throw Error(g(200));if(t==null||t._reactInternals===void 0)throw Error(g(38));return Uo(t,e,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426";function Wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wp)}catch(t){console.error(t)}}Wp(),Wc.exports=Me;var Pm=Wc.exports,Qp,oc=Pm;Qp=oc.createRoot,oc.hydrateRoot;/*! Tweakpane 4.0.5 (c) 2016 cocopon, licensed under the MIT license. */function I(t){return t==null}function Pa(t){return t!==null&&typeof t=="object"}function Cs(t){return t!==null&&typeof t=="object"}function km(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function pn(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((r,i)=>{const o=t[i],l=e[i];return Cs(o)&&Cs(l)?Object.assign(Object.assign({},r),{[i]:pn(o,l)}):Object.assign(Object.assign({},r),{[i]:i in e?l:o})},{})}function ka(t){return Pa(t)?"target"in t:!1}const Em={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class X{static alreadyDisposed(){return new X({type:"alreadydisposed"})}static notBindable(){return new X({type:"notbindable"})}static notCompatible(e,n){return new X({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new X({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new X({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=Em[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class xo{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const r=this.read();if(!xo.isBindable(r))throw X.notBindable();if(!(e in r))throw X.propertyNotFound(e);r[e]=n}}class te{constructor(){this.observers_={}}on(e,n,r){var i;let o=this.observers_[e];return o||(o=this.observers_[e]=[]),o.push({handler:n,key:(i=r==null?void 0:r.key)!==null&&i!==void 0?i:n}),this}off(e,n){const r=this.observers_[e];return r&&(this.observers_[e]=r.filter(i=>i.key!==n)),this}emit(e,n){const r=this.observers_[e];r&&r.forEach(i=>{i.handler(n)})}}class Sm{constructor(e,n){var r;this.constraint_=n==null?void 0:n.constraint,this.equals_=(r=n==null?void 0:n.equals)!==null&&r!==void 0?r:(i,o)=>i===o,this.emitter=new te,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.constraint_?this.constraint_.constrain(e):e,o=this.rawValue_;this.equals_(o,i)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=i,this.emitter.emit("change",{options:r,previousRawValue:o,rawValue:i,sender:this}))}}class Tm{constructor(e){this.emitter=new te,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.value_;i===e&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:r,previousRawValue:i,rawValue:this.value_,sender:this}))}}class Lm{constructor(e){this.emitter=new te,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function H(t,e){const n=e==null?void 0:e.constraint,r=e==null?void 0:e.equals;return!n&&!r?new Tm(t):new Sm(t,e)}function Vm(t){return[new Lm(t),(e,n)=>{t.setRawValue(e,n)}]}class L{constructor(e){this.emitter=new te,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((r,i)=>Object.assign(r,{[i]:H(e[i])}),{})}static fromObject(e){const n=this.createCore(e);return new L(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class li{constructor(e){this.values=L.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(e,r),n)}}class Am{constructor(e){this.values=L.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");let i=e;return I(r)||(i=Math.max(i,r)),I(n)||(i=Math.min(i,n)),i}}class Mm{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,r=Math.round((e-n)/this.step);return n+r*this.step}}class Om{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const Rm={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class Nm{constructor(e,n,r){this.left=n,this.operator=e,this.right=r}evaluate(){const e=Rm[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Dm={"+":t=>t,"-":t=>-t,"~":t=>~t};class zm{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=Dm[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Ea(t){return(e,n)=>{for(let r=0;r<t.length;r++){const i=t[r](e,n);if(i!=="")return i}return""}}function Yr(t,e){var n;const r=t.substr(e).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Fm(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function qr(t,e){var n;const r=t.substr(e).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Bm(t,e){const n=qr(t,e);if(n!=="")return n;const r=t.substr(e,1);if(e+=1,r!=="-"&&r!=="+")return"";const i=qr(t,e);return i===""?"":r+i}function Sa(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const r=Bm(t,e);return r===""?"":n+r}function Yp(t,e){const n=t.substr(e,1);if(n==="0")return n;const r=Fm(t,e);return e+=r.length,r===""?"":r+qr(t,e)}function jm(t,e){const n=Yp(t,e);if(e+=n.length,n==="")return"";const r=t.substr(e,1);if(e+=r.length,r!==".")return"";const i=qr(t,e);return e+=i.length,n+r+i+Sa(t,e)}function Im(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const r=qr(t,e);return e+=r.length,r===""?"":n+r+Sa(t,e)}function Um(t,e){const n=Yp(t,e);return e+=n.length,n===""?"":n+Sa(t,e)}const $m=Ea([jm,Im,Um]);function Gm(t,e){var n;const r=t.substr(e).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Hm(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const r=Gm(t,e);return r===""?"":n+r}function Km(t,e){var n;const r=t.substr(e).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Wm(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const r=Km(t,e);return r===""?"":n+r}function Qm(t,e){var n;const r=t.substr(e).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function Ym(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const r=Qm(t,e);return r===""?"":n+r}const qm=Ea([Hm,Wm,Ym]),Xm=Ea([qm,$m]);function Zm(t,e){const n=Xm(t,e);return e+=n.length,n===""?null:{evaluable:new Om(n),cursor:e}}function Jm(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const r=Xp(t,e);if(!r)return null;e=r.cursor,e+=Yr(t,e).length;const i=t.substr(e,1);return e+=i.length,i!==")"?null:{evaluable:r.evaluable,cursor:e}}function eg(t,e){var n;return(n=Zm(t,e))!==null&&n!==void 0?n:Jm(t,e)}function qp(t,e){const n=eg(t,e);if(n)return n;const r=t.substr(e,1);if(e+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const i=qp(t,e);return i?(e=i.cursor,{cursor:e,evaluable:new zm(r,i.evaluable)}):null}function tg(t,e,n){n+=Yr(e,n).length;const r=t.filter(i=>e.startsWith(i,n))[0];return r?(n+=r.length,n+=Yr(e,n).length,{cursor:n,operator:r}):null}function ng(t,e){return(n,r)=>{const i=t(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const l=tg(e,n,r);if(!l)break;r=l.cursor;const s=t(n,r);if(!s)return null;r=s.cursor,o=new Nm(l.operator,o,s.evaluable)}return o?{cursor:r,evaluable:o}:null}}const rg=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>ng(t,e),qp);function Xp(t,e){return e+=Yr(t,e).length,rg(t,e)}function ig(t){const e=Xp(t,0);return!e||e.cursor+Yr(t,e.cursor).length!==t.length?null:e.evaluable}function _t(t){var e;const n=ig(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function Zp(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=_t(t);if(!I(e))return e}return 0}function og(t){return String(t)}function Se(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function D(t,e,n,r,i){const o=(t-e)/(n-e);return r+o*(i-r)}function lc(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function ie(t,e,n){return Math.min(Math.max(t,e),n)}function Jp(t,e){return(t%e+e)%e}function lg(t,e){return I(t.step)?Math.max(lc(e),2):lc(t.step)}function eh(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function th(t,e){var n;const r=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function nh(t,e){return I(t.step)?null:new Mm(t.step,e)}function rh(t){return!I(t.max)&&!I(t.min)?new li({max:t.max,min:t.min}):!I(t.max)||!I(t.min)?new Am({max:t.max,min:t.min}):null}function ih(t,e){var n,r,i;return{formatter:(n=t.format)!==null&&n!==void 0?n:Se(lg(t,e)),keyScale:(r=t.keyScale)!==null&&r!==void 0?r:eh(t),pointerScale:(i=t.pointerScale)!==null&&i!==void 0?i:th(t,e)}}function oh(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function Ta(t){return{constraint:t.constraint,textProps:L.fromObject(ih(t.params,t.initialValue))}}class gn{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class $o{constructor(e){this.target=e}}class si extends $o{constructor(e,n,r){super(e),this.value=n,this.last=r??!0}}class sg extends $o{constructor(e,n){super(e),this.expanded=n}}class ag extends $o{constructor(e,n){super(e),this.index=n}}class ug extends $o{constructor(e,n){super(e),this.native=n}}class Xr extends gn{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new te,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new si(this,n.binding.target.read(),e.options.last))}}class cg{constructor(e,n){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=n,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new te}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function dg(t){if(!("binding"in t))return!1;const e=t.binding;return ka(e)&&"read"in e&&"write"in e}function pg(t,e){const r=Object.keys(e).reduce((i,o)=>{if(i===void 0)return;const l=e[o],s=l(t[o]);return s.succeeded?Object.assign(Object.assign({},i),{[o]:s.value}):void 0},{});return r}function hg(t,e){return t.reduce((n,r)=>{if(n===void 0)return;const i=e(r);if(!(!i.succeeded||i.value===void 0))return[...n,i.value]},[])}function fg(t){return t===null?!1:typeof t=="object"}function lt(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const r=t(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function sc(t){return{custom:e=>lt(e)(t),boolean:lt(e=>typeof e=="boolean"?e:void 0)(t),number:lt(e=>typeof e=="number"?e:void 0)(t),string:lt(e=>typeof e=="string"?e:void 0)(t),function:lt(e=>typeof e=="function"?e:void 0)(t),constant:e=>lt(n=>n===e?e:void 0)(t),raw:lt(e=>e)(t),object:e=>lt(n=>{if(fg(n))return pg(n,e)})(t),array:e=>lt(n=>{if(Array.isArray(n))return hg(n,e)})(t)}}const Ps={optional:sc(!0),required:sc(!1)};function Y(t,e){const n=e(Ps),r=Ps.required.object(n)(t);return r.succeeded?r.value:void 0}function Re(t,e,n,r){if(e&&!e(t))return!1;const i=Y(t,n);return i?r(i):!1}function Ne(t,e){var n;return pn((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function ln(t){return"value"in t}function lh(t){if(!Pa(t)||!("binding"in t))return!1;const e=t.binding;return ka(e)}const tt="http://www.w3.org/2000/svg";function Co(t){t.offsetHeight}function vg(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function La(t){return t.ontouchstart!==void 0}function mg(){return globalThis}function gg(){return mg().document}function wg(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const _g={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Go(t,e){const n=t.createElementNS(tt,"svg");return n.innerHTML=_g[e],n}function sh(t,e,n){t.insertBefore(e,t.children[n])}function Va(t){t.parentElement&&t.parentElement.removeChild(t)}function ah(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function yg(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function uh(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function ft(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function it(t,e,n){ft(t.value(e),n)}const bg="tp";function R(t){return(n,r)=>[bg,"-",t,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const fr=R("lbl");function xg(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(i=>t.createTextNode(i)).forEach((i,o)=>{o>0&&n.appendChild(t.createElement("br")),n.appendChild(i)}),n}class ch{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(fr()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(fr("l")),it(n.props,"label",o=>{I(o)?this.element.classList.add(fr(void 0,"nol")):(this.element.classList.remove(fr(void 0,"nol")),yg(r),r.appendChild(xg(e,o)))}),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("div");i.classList.add(fr("v")),this.element.appendChild(i),this.valueElement=i}}class dh{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new ch(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return Re(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return Ne(null,{label:this.props.get("label")})}}function Cg(){return["veryfirst","first","last","verylast"]}const ac=R(""),uc={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Ho{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Cg().forEach(r=>{n.classList.remove(ac(void 0,uc[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(ac(void 0,uc[r]))})}),this.viewProps.handleDispose(()=>{Va(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return Re(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return Ne(null,Object.assign({},this.viewProps.exportState()))}}class hn extends Ho{constructor(e,n){if(n.value!==n.valueController.value)throw X.shouldNeverHappen();const r=n.valueController.viewProps,i=new dh(e,{blade:n.blade,props:n.props,valueController:n.valueController});super(Object.assign(Object.assign({},n),{view:new ch(e,{props:n.props,viewProps:r}),viewProps:r})),this.labelController=i,this.value=n.value,this.valueController=n.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return Re(e,n=>{var r,i,o;return super.importState(n)&&this.labelController.importProps(n)&&((o=(i=(r=this.valueController).importProps)===null||i===void 0?void 0:i.call(r,e))!==null&&o!==void 0?o:!0)},n=>({value:n.optional.raw}),n=>(n.value&&(this.value.rawValue=n.value),!0))}exportState(){var e,n,r;return Ne(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(r=(n=(e=this.valueController).exportProps)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:{}))}}function cc(t){const e=Object.assign({},t);return delete e.value,e}class ph extends hn{constructor(e,n){super(e,n),this.tag=n.tag}importState(e){return Re(e,n=>super.importState(cc(e)),n=>({tag:n.optional.string}),n=>(this.tag=n.tag,!0))}exportState(){return Ne(()=>cc(super.exportState()),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}}function Pg(t){return ln(t)&&lh(t.value)}class kg extends ph{importState(e){return Re(e,n=>super.importState(n),n=>({binding:n.required.object({value:n.required.raw})}),n=>(this.value.binding.inject(n.binding.value),this.value.fetch(),!0))}}function Eg(t){return ln(t)&&dg(t.value)}function hh(t,e){for(;t.length<e;)t.push(void 0)}function Sg(t){const e=[];return hh(e,t),e}function Tg(t){const e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}function Lg(t,e){const n=[...Tg(t),e];return n.length>t.length?n.splice(0,n.length-t.length):hh(n,t.length),n}class Vg{constructor(e){this.emitter=new te,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=H(Sg(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=Lg(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function Ag(t){if(!("binding"in t))return!1;const e=t.binding;return ka(e)&&"read"in e&&!("write"in e)}class Mg extends ph{exportState(){return Ne(()=>super.exportState(),{binding:{readonly:!0}})}}function Og(t){return ln(t)&&Ag(t.value)}class Rg extends gn{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(e,o=>{r(new ug(this,o.nativeEvent))}),this}off(e,n){return this.controller.buttonController.emitter.off(e,n),this}}function Ng(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function er(t,e){return n=>{Ng(t,e,n)}}function Aa(t,e){ft(t,n=>{e.textContent=n??""})}const Cl=R("btn");class Dg{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Cl()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("button");r.classList.add(Cl("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Cl("t")),Aa(n.props.value("title"),i),this.buttonElement.appendChild(i)}}class zg{constructor(e,n){this.emitter=new te,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new Dg(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return Re(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return Ne(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}}class dc extends Ho{constructor(e,n){const r=new zg(e,{props:n.buttonProps,viewProps:n.viewProps}),i=new dh(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=i}importState(e){return Re(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return Ne(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class fh{constructor(e){const[n,r]=e.split("-"),i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=r??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const tr=new fh("2.0.5");function ye(t){return Object.assign({core:tr},t)}const Fg=ye({id:"button",type:"blade",accept(t){const e=Y(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new dc(t.document,{blade:t.blade,buttonProps:L.fromObject({title:t.params.title}),labelProps:L.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof dc?new Rg(t.controller):null}});function Bg(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function jg(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function Ig(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function Ug(t){return Pa(t)?"refresh"in t&&typeof t.refresh=="function":!1}function $g(t,e){if(!xo.isBindable(t))throw X.notBindable();return new xo(t,e)}class Gg{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new te,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,r){const i=r??{},o=this.controller_.element.ownerDocument,l=this.pool_.createBinding(o,$g(e,n),i),s=this.pool_.createBindingApi(l);return this.add(s,i.index)}addFolder(e){return jg(this,e)}addButton(e){return Bg(this,e)}addTab(e){return Ig(this,e)}add(e,n){const r=e.controller;return this.controller_.rack.add(r,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,e),i=this.pool_.createApi(r);return this.add(i,e.index)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}refresh(){this.children.forEach(e=>{Ug(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,r=this.pool_.createApi(n),i=lh(n.value)?n.value.binding:null;this.emitter_.emit("change",new si(r,i?i.target.read():n.value.rawValue,e.options.last))}}class Ma extends gn{constructor(e,n){super(e),this.rackApi_=new Gg(e.rackController,n)}refresh(){this.rackApi_.refresh()}}class Oa extends Ho{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return Re(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,i)=>r.importState(n.children[i])))}exportState(){return Ne(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function ks(t){return"rackController"in t}class Hg{constructor(e){this.emitter=new te,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw X.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,e),this.cache_.add(e);const i=this.extract_(e);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach(o=>{this.cache_.add(o)})),this.emitter.emit("add",{index:r,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const r=this.extract_(e);r&&(r.allItems().forEach(i=>{this.cache_.delete(i)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function Kg(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(ln(r)&&r.value===e)return r}return null}function Wg(t){return ks(t)?t.rackController.rack.bcSet_:null}class Qg{constructor(e){var n,r;this.emitter=new te,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new Hg(Wg),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var r;(r=e.parent)===null||r===void 0||r.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const r=e.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),ln(r))r.value.emitter.on("change",this.onChildValueChange_);else if(ks(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.on("layout",this.onRackLayout_),o.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const r=e.item;if(ln(r))r.value.emitter.off("change",this.onChildValueChange_);else if(ks(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.off("layout",this.onRackLayout_),o.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(i=>!i.viewProps.get("hidden")),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach(i=>{const o=[];i===n&&(o.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&o.push("veryfirst")),i===r&&(o.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&o.push("verylast")),i.blade.set("positions",o)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=Kg(this.find(ln),e.sender);if(!n)throw X.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Ra{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new Qg({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&sh(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&Va(e.bladeController.view.element)}}function nr(){return new L({positions:H([],{equals:km})})}class ai extends L{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=L.createCore(n);return new ai(r)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!I(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const r=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};it(this,"expanded",r),it(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Yg(t,e){let n=0;return vg(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),Co(e),n=e.clientHeight,t.set("temporaryExpanded",null),Co(e)}),n}function pc(t,e){e.style.height=t.styleHeight}function Na(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),I(t.get("expandedHeight"))){const n=Yg(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),Co(e)}),t.emitter.on("change",()=>{pc(t,e)}),pc(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class vh extends Ma{constructor(e,n){super(e,n),this.emitter_=new te,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new sg(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const mh=R("cnt");class qg{constructor(e,n){var r;this.className_=R((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),mh()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),it(this.foldable_,"completed",er(this.element,this.className_(void 0,"cpl")));const i=e.createElement("button");i.classList.add(this.className_("b")),it(n.props,"title",u=>{I(u)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const o=e.createElement("div");o.classList.add(this.className_("i")),this.element.appendChild(o);const l=e.createElement("div");l.classList.add(this.className_("t")),Aa(n.props.value("title"),l),this.buttonElement.appendChild(l),this.titleElement=l;const s=e.createElement("div");s.classList.add(this.className_("m")),this.buttonElement.appendChild(s);const a=e.createElement("div");a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}}class Es extends Oa{constructor(e,n){var r;const i=ai.create((r=n.expanded)!==null&&r!==void 0?r:!0),o=new qg(e,{foldable:i,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new Ra({blade:n.blade,element:o.containerElement,root:n.root,viewProps:n.viewProps}),view:o})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=i,Na(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return Re(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return Ne(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Xg=ye({id:"folder",type:"blade",accept(t){const e=Y(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new Es(t.document,{blade:t.blade,expanded:t.params.expanded,props:L.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof Es?new vh(t.controller,t.pool):null}}),Zg=R("");function hc(t,e){return er(t,Zg(void 0,e))}class xt extends L{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=Vm(H(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,r,i;const o=e??{};return new xt(L.createCore({disabled:(n=o.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=o.hidden)!==null&&r!==void 0?r:!1,parent:(i=o.parent)!==null&&i!==void 0?i:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){ft(this.globalDisabled_,hc(e,"disabled")),it(this,"hidden",hc(e,"hidden"))}bindDisabled(e){ft(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){ft(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const r=e.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const fc=R("tbp");class Jg{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(fc()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(fc("c")),this.element.appendChild(r),this.containerElement=r}}const vr=R("tbi");class e0{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(vr()),n.viewProps.bindClassModifiers(this.element),it(n.props,"selected",o=>{o?this.element.classList.add(vr(void 0,"sel")):this.element.classList.remove(vr(void 0,"sel"))});const r=e.createElement("button");r.classList.add(vr("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(vr("t")),Aa(n.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}}class t0{constructor(e,n){this.emitter=new te,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new e0(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ss extends Oa{constructor(e,n){const r=new Jg(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new Ra({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new t0(e,{props:n.itemProps,viewProps:xt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,it(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}importState(e){return Re(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return Ne(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class n0 extends Ma{constructor(e,n){super(e,n),this.emitter_=new te,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,r=new Ss(n,{blade:nr(),itemProps:L.fromObject({selected:!1,title:e.title}),props:L.fromObject({selected:!1}),viewProps:xt.create()}),i=this.pool_.createApi(r);return this.rackApi_.add(i,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}onSelect_(e){this.emitter_.emit("select",new ag(this,e.rawValue))}}class r0 extends Ma{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addBlade(e){return this.rackApi_.addBlade(e)}}const vc=-1;class i0{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=H(!0),this.selectedIndex=H(vc),this.items_=[]}add(e,n){const r=n??this.items_.length;this.items_.splice(r,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=vc,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(r=>r===e.sender);this.items_.forEach((r,i)=>{r.rawValue=i===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const mr=R("tab");class o0{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(mr(),mh()),n.viewProps.bindClassModifiers(this.element),ft(n.empty,er(this.element,mr(void 0,"nop")));const r=e.createElement("div");r.classList.add(mr("t")),this.element.appendChild(r),this.itemsElement=r;const i=e.createElement("div");i.classList.add(mr("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(mr("c")),this.element.appendChild(o),this.contentsElement=o}}class mc extends Oa{constructor(e,n){const r=new i0,i=new o0(e,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new Ra({blade:n.blade,element:i.contentsElement,viewProps:n.viewProps}),view:i}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const o=this.rackController.rack;o.emitter.on("add",this.onRackAdd_),o.emitter.on("remove",this.onRackRemove_),this.tab=r}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;sh(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;Va(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}const gh=ye({id:"tab",type:"blade",accept(t){const e=Y(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new mc(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const r=new Ss(t.document,{blade:nr(),itemProps:L.fromObject({selected:!1,title:n.title}),props:L.fromObject({selected:!1}),viewProps:xt.create()});e.add(r)}),e},api(t){return t.controller instanceof mc?new n0(t.controller,t.pool):t.controller instanceof Ss?new r0(t.controller,t.pool):null}});function l0(t,e){const n=t.accept(e.params);if(!n)return null;const r=Y(e.params,i=>({disabled:i.optional.boolean,hidden:i.optional.boolean}));return t.controller({blade:nr(),document:e.document,params:Object.assign(Object.assign({},n.params),{disabled:r==null?void 0:r.disabled,hidden:r==null?void 0:r.hidden}),viewProps:xt.create({disabled:r==null?void 0:r.disabled,hidden:r==null?void 0:r.hidden})})}class Da extends Xr{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class s0{constructor(){this.disabled=!1,this.emitter=new te}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class a0{constructor(e,n){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new te,this.interval_=n,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class ui{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,r)=>r.constrain(n),e)}}function Po(t,e){if(t instanceof e)return t;if(t instanceof ui){const n=t.constraints.reduce((r,i)=>r||(i instanceof e?i:null),null);if(n)return n}return null}class ci{constructor(e){this.values=L.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(i=>i.value===e).length>0?e:n[0].value}}function di(t){var e;const n=Ps;if(Array.isArray(t))return(e=Y({items:t},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function za(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function Fa(t){return I(t)?null:new ci(za(t))}const Pl=R("lst");class u0{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(Pl()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("select");r.classList.add(Pl("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const i=e.createElement("div");i.classList.add(Pl("m")),i.appendChild(Go(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,it(this.props_,"options",o=>{ah(this.selectElement),o.forEach(l=>{const s=e.createElement("option");s.textContent=l.text,this.selectElement.appendChild(s)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class Ht{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new u0(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return Re(e,null,n=>({options:n.required.custom(di)}),n=>(this.props.set("options",za(n.options)),!0))}exportProps(){return Ne(null,{options:this.props.get("options")})}}const gc=R("pop");class c0{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(gc()),n.viewProps.bindClassModifiers(this.element),ft(n.shows,er(this.element,gc(void 0,"v")))}}class wh{constructor(e,n){this.shows=H(!1),this.viewProps=n.viewProps,this.view=new c0(e,{shows:this.shows,viewProps:this.viewProps})}}const wc=R("txt");class d0{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(wc()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=e.createElement("input");r.classList.add(wc("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class Zr{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new d0(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);I(i)||(this.value.rawValue=i),this.view.refresh()}}function p0(t){return String(t)}function _h(t){return t==="false"?!1:!!t}function _c(t){return p0(t)}function h0(t){return e=>t.reduce((n,r)=>n!==null?n:r(e),null)}const f0=Se(0);function ko(t){return f0(t)+"%"}function yh(t){return String(t)}function Ts(t){return t}function rr({primary:t,secondary:e,forward:n,backward:r}){let i=!1;function o(l){i||(i=!0,l(),i=!1)}t.emitter.on("change",l=>{o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),l.options)})}),e.emitter.on("change",l=>{o(()=>{t.setRawValue(r(t.rawValue,e.rawValue),l.options)}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),l.options)})}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function Ce(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Jr(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function yt(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function v0(t){return t==="ArrowUp"||t==="ArrowDown"}function bh(t){return v0(t)||t==="ArrowLeft"||t==="ArrowRight"}function kl(t,e){var n,r;const i=e.ownerDocument.defaultView,o=e.getBoundingClientRect();return{x:t.pageX-(((n=i&&i.scrollX)!==null&&n!==void 0?n:0)+o.left),y:t.pageY-(((r=i&&i.scrollY)!==null&&r!==void 0?r:0)+o.top)}}class wn{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new te,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(kl(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(kl(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(kl(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const r=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,i=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(r?{x:r.clientX-i.left,y:r.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const De=R("txt");class m0{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(De(),De(void 0,"num")),n.arrayPosition&&this.element.classList.add(De(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(De("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(De()),this.inputElement.classList.add(De("i"));const i=e.createElement("div");i.classList.add(De("k")),this.element.appendChild(i),this.knobElement=i;const o=e.createElementNS(tt,"svg");o.classList.add(De("g")),this.knobElement.appendChild(o);const l=e.createElementNS(tt,"path");l.classList.add(De("gb")),o.appendChild(l),this.guideBodyElem_=l;const s=e.createElementNS(tt,"path");s.classList.add(De("gh")),o.appendChild(s),this.guideHeadElem_=s;const a=e.createElement("div");a.classList.add(R("tt")()),this.knobElement.appendChild(a),this.tooltipElem_=a,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(De(void 0,"drg"));return}this.element.classList.add(De(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),i=ie(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+i},0 L${r},4 L${r+i},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const o=this.props_.get("formatter");this.tooltipElem_.textContent=o(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class pi{constructor(e,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=H(null),this.view=new m0(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const i=new wn(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,r;const i=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),o=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let l=e;return i!==void 0&&(l=Math.max(l,i)),o!==void 0&&(l=Math.min(l,o)),l}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);I(i)||(this.value.rawValue=this.constrainValue_(i)),this.view.refresh()}onInputKeyDown_(e){const n=Ce(this.props.get("keyScale"),Jr(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Ce(this.props.get("keyScale"),Jr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const El=R("sld");class g0{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(El()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(El("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(El("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=ie(D(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class w0{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new g0(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new wn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(D(ie(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ce(this.props.get("keyScale"),yt(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){Ce(this.props.get("keyScale"),yt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Sl=R("sldtxt");class _0{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Sl());const r=e.createElement("div");r.classList.add(Sl("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Sl("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}}class Eo{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new w0(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new pi(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new _0(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return Re(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return Ne(null,{max:e.get("max"),min:e.get("min")})}}function xh(t){return{sliderProps:new L({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new L({formatter:H(t.formatter),keyScale:t.keyScale,pointerScale:H(t.pointerScale)})}}const y0={containerUnitSize:"cnt-usz"};function Ch(t){return`--${y0[t]}`}function ei(t){return oh(t)}function Ot(t){if(Cs(t))return Y(t,ei)}function pt(t,e){if(!t)return;const n=[],r=nh(t,e);r&&n.push(r);const i=rh(t);return i&&n.push(i),new ui(n)}function b0(t){return t?t.major===tr.major:!1}function Ph(t){if(t==="inline"||t==="popup")return t}function hi(t,e){t.write(e)}const Ni=R("ckb");class x0{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ni()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(Ni("l")),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("input");i.classList.add(Ni("i")),i.type="checkbox",this.labelElement.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);const o=e.createElement("div");o.classList.add(Ni("w")),this.labelElement.appendChild(o);const l=Go(e,"check");o.appendChild(l),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class C0{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new x0(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}}function P0(t){const e=[],n=Fa(t.options);return n&&e.push(n),new ui(e)}const k0=ye({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=Y(e,r=>({options:r.optional.custom(di),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>_h,constraint:t=>P0(t.params),writer:t=>hi},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Po(r,ci);return i?new Ht(e,{props:new L({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new C0(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof Ht?new Da(t.controller):null}}),Xt=R("col");class E0{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Xt()),n.foldable.bindExpandedClass(this.element,Xt(void 0,"expanded")),it(n.foldable,"completed",er(this.element,Xt(void 0,"cpl")));const r=e.createElement("div");r.classList.add(Xt("h")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Xt("s")),r.appendChild(i),this.swatchElement=i;const o=e.createElement("div");if(o.classList.add(Xt("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const l=e.createElement("div");l.classList.add(Xt("p")),this.element.appendChild(l),this.pickerElement=l}else this.pickerElement=null}}function S0(t,e,n){const r=ie(t/255,0,1),i=ie(e/255,0,1),o=ie(n/255,0,1),l=Math.max(r,i,o),s=Math.min(r,i,o),a=l-s;let u=0,f=0;const h=(s+l)/2;return a!==0&&(f=a/(1-Math.abs(l+s-1)),r===l?u=(i-o)/a:i===l?u=2+(o-r)/a:u=4+(r-i)/a,u=u/6+(u<0?1:0)),[u*360,f*100,h*100]}function T0(t,e,n){const r=(t%360+360)%360,i=ie(e/100,0,1),o=ie(n/100,0,1),l=(1-Math.abs(2*o-1))*i,s=l*(1-Math.abs(r/60%2-1)),a=o-l/2;let u,f,h;return r>=0&&r<60?[u,f,h]=[l,s,0]:r>=60&&r<120?[u,f,h]=[s,l,0]:r>=120&&r<180?[u,f,h]=[0,l,s]:r>=180&&r<240?[u,f,h]=[0,s,l]:r>=240&&r<300?[u,f,h]=[s,0,l]:[u,f,h]=[l,0,s],[(u+a)*255,(f+a)*255,(h+a)*255]}function L0(t,e,n){const r=ie(t/255,0,1),i=ie(e/255,0,1),o=ie(n/255,0,1),l=Math.max(r,i,o),s=Math.min(r,i,o),a=l-s;let u;a===0?u=0:l===r?u=60*(((i-o)/a%6+6)%6):l===i?u=60*((o-r)/a+2):u=60*((r-i)/a+4);const f=l===0?0:a/l,h=l;return[u,f*100,h*100]}function kh(t,e,n){const r=Jp(t,360),i=ie(e/100,0,1),o=ie(n/100,0,1),l=o*i,s=l*(1-Math.abs(r/60%2-1)),a=o-l;let u,f,h;return r>=0&&r<60?[u,f,h]=[l,s,0]:r>=60&&r<120?[u,f,h]=[s,l,0]:r>=120&&r<180?[u,f,h]=[0,l,s]:r>=180&&r<240?[u,f,h]=[0,s,l]:r>=240&&r<300?[u,f,h]=[s,0,l]:[u,f,h]=[l,0,s],[(u+a)*255,(f+a)*255,(h+a)*255]}function V0(t,e,n){const r=n+e*(100-Math.abs(2*n-100))/200;return[t,r!==0?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function A0(t,e,n){const r=100-Math.abs(n*(200-e)/100-100);return[t,r!==0?e*n/r:0,n*(200-e)/(2*100)]}function ot(t){return[t[0],t[1],t[2]]}function Ko(t,e){return[t[0],t[1],t[2],e]}const M0={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:V0,rgb:T0},hsv:{hsl:A0,hsv:(t,e,n)=>[t,e,n],rgb:kh},rgb:{hsl:S0,hsv:L0,rgb:(t,e,n)=>[t,e,n]}};function qn(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function O0(t,e){return t===e?e:Jp(t,e)}function Eh(t,e,n){var r;const i=qn(e,n);return[e==="rgb"?ie(t[0],0,i[0]):O0(t[0],i[0]),ie(t[1],0,i[1]),ie(t[2],0,i[2]),ie((r=t[3])!==null&&r!==void 0?r:1,0,1)]}function yc(t,e,n,r){const i=qn(e,n),o=qn(e,r);return t.map((l,s)=>l/i[s]*o[s])}function Sh(t,e,n){const r=yc(t,e.mode,e.type,"int"),i=M0[e.mode][n.mode](...r);return yc(i,n.mode,"int",n.type)}class N{static black(){return new N([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=Eh(e,n,this.type)}getComponents(e){return Ko(Sh(ot(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const Pt=R("colp");class R0{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Pt()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Pt("hsv"));const i=e.createElement("div");i.classList.add(Pt("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);const o=e.createElement("div");o.classList.add(Pt("h")),this.hPaletteView_=n.hPaletteView,o.appendChild(this.hPaletteView_.element),r.appendChild(o),this.element.appendChild(r);const l=e.createElement("div");if(l.classList.add(Pt("rgb")),this.textsView_=n.textsView,l.appendChild(this.textsView_.element),this.element.appendChild(l),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const s=e.createElement("div");s.classList.add(Pt("a"));const a=e.createElement("div");a.classList.add(Pt("ap")),a.appendChild(this.alphaViews_.palette.element),s.appendChild(a);const u=e.createElement("div");u.classList.add(Pt("at")),u.appendChild(this.alphaViews_.text.element),s.appendChild(u),this.element.appendChild(s)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function N0(t){return t==="int"?"int":t==="float"?"float":void 0}function Ba(t){return Y(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(N0)}),expanded:e.optional.boolean,picker:e.optional.custom(Ph),readonly:e.optional.constant(!1)}))}function fn(t){return t?.1:1}function Th(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class ja{constructor(e,n){this.type="float",this.mode=n,this.comps_=Eh(e,n,this.type)}getComponents(e){return Ko(Sh(ot(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const D0={int:(t,e)=>new N(t,e),float:(t,e)=>new ja(t,e)};function Ia(t,e,n){return D0[n](t,e)}function z0(t){return t.type==="float"}function F0(t){return t.type==="int"}function B0(t){const e=t.getComponents(),n=qn(t.mode,"int");return new N([Math.round(D(e[0],0,1,0,n[0])),Math.round(D(e[1],0,1,0,n[1])),Math.round(D(e[2],0,1,0,n[2])),e[3]],t.mode)}function j0(t){const e=t.getComponents(),n=qn(t.mode,"int");return new ja([D(e[0],0,n[0],0,1),D(e[1],0,n[1],0,1),D(e[2],0,n[2],0,1),e[3]],t.mode)}function ge(t,e){if(t.type===e)return t;if(F0(t)&&e==="float")return j0(t);if(z0(t)&&e==="int")return B0(t);throw X.shouldNeverHappen()}function I0(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function je(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const U0={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function Lh(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),r=e[2];return U0[r](n)}function Vh(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[je(e[1],255),je(e[2],255),je(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function $0(t){const e=Vh(t);return e?new N(e,"rgb"):null}function Ah(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[je(e[1],255),je(e[2],255),je(e[3],255),je(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function G0(t){const e=Ah(t);return e?new N(e,"rgb"):null}function Mh(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Lh(e[1]),je(e[2],100),je(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function H0(t){const e=Mh(t);return e?new N(e,"hsl"):null}function Oh(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Lh(e[1]),je(e[2],100),je(e[3],100),je(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function K0(t){const e=Oh(t);return e?new N(e,"hsl"):null}function Rh(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function W0(t){const e=Rh(t);return e?new N(e,"rgb"):null}function Nh(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),D(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),D(parseInt(n[4],16),0,255,0,1)]:null}function Q0(t){const e=Nh(t);return e?new N(e,"rgb"):null}function Dh(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function Y0(t){return e=>{const n=Dh(e);return n?Ia(n,"rgb",t):null}}function zh(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function q0(t){return e=>{const n=zh(e);return n?Ia(n,"rgb",t):null}}const X0=[{parser:Rh,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Nh,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Vh,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Ah,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Mh,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Oh,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Dh,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:zh,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Z0(t){return X0.reduce((e,{parser:n,result:r})=>e||(n(t)?r:null),null)}function J0(t,e="int"){const n=Z0(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function fi(t){const e=[W0,Q0,$0,G0,H0,K0];e.push(Y0("int"),q0("int"));const n=h0(e);return r=>{const i=n(r);return i?ge(i,t):null}}function ew(t){const e=fi("int");if(typeof t!="string")return N.black();const n=e(t);return n??N.black()}function Fh(t){const e=ie(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function Ua(t,e="#"){const n=ot(t.getComponents("rgb")).map(Fh).join("");return`${e}${n}`}function $a(t,e="#"){const n=t.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(Fh).join("");return`${e}${r}`}function Bh(t){const e=Se(0),n=ge(t,"int");return`rgb(${ot(n.getComponents("rgb")).map(i=>e(i)).join(", ")})`}function Qi(t){const e=Se(2),n=Se(0);return`rgba(${ge(t,"int").getComponents("rgb").map((o,l)=>(l===3?e:n)(o)).join(", ")})`}function tw(t){const e=[Se(0),ko,ko],n=ge(t,"int");return`hsl(${ot(n.getComponents("hsl")).map((i,o)=>e[o](i)).join(", ")})`}function nw(t){const e=[Se(0),ko,ko,Se(2)];return`hsla(${ge(t,"int").getComponents("hsl").map((i,o)=>e[o](i)).join(", ")})`}function jh(t,e){const n=Se(e==="float"?2:0),r=["r","g","b"],i=ge(t,e);return`{${ot(i.getComponents("rgb")).map((l,s)=>`${r[s]}: ${n(l)}`).join(", ")}}`}function rw(t){return e=>jh(e,t)}function Ih(t,e){const n=Se(2),r=Se(e==="float"?2:0),i=["r","g","b","a"];return`{${ge(t,e).getComponents("rgb").map((s,a)=>{const u=a===3?n:r;return`${i[a]}: ${u(s)}`}).join(", ")}}`}function iw(t){return e=>Ih(e,t)}const ow=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Ua},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:$a},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:Bh},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:Qi},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:tw},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:nw},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:rw(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:iw(e)}],[])];function Uh(t){return ow.reduce((e,n)=>e||(I0(n.format,t)?n.stringifier:null),null)}const gr=R("apl");class lw{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(gr()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(gr("b")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(gr("c")),r.appendChild(i),this.colorElem_=i;const o=e.createElement("div");o.classList.add(gr("m")),this.element.appendChild(o),this.markerElem_=o;const l=e.createElement("div");l.classList.add(gr("p")),this.markerElem_.appendChild(l),this.previewElem_=l,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),r=new N([n[0],n[1],n[2],0],"rgb"),i=new N([n[0],n[1],n[2],255],"rgb"),o=["to right",Qi(r),Qi(i)];this.colorElem_.style.background=`linear-gradient(${o.join(",")})`,this.previewElem_.style.backgroundColor=Qi(e);const l=D(n[3],0,1,0,100);this.markerElem_.style.left=`${l}%`}onValueChange_(){this.update_()}}class sw{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new lw(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new wn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=e.point.x/e.bounds.width,i=this.value.rawValue,[o,l,s]=i.getComponents("hsv");this.value.setRawValue(new N([o,l,s,r],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ce(fn(!0),yt(e));if(n===0)return;const r=this.value.rawValue,[i,o,l,s]=r.getComponents("hsv");this.value.setRawValue(new N([i,o,l,s+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ce(fn(!0),yt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const yn=R("coltxt");function aw(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((r,i)=>{const o=t.createElement("option");return o.textContent=i.text,o.value=i.value,r.appendChild(o),r},t.createDocumentFragment())),e}class uw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(yn()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(yn("m")),this.modeElem_=aw(e),this.modeElem_.classList.add(yn("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const i=e.createElement("div");i.classList.add(yn("mm")),i.appendChild(Go(e,"dropdown")),r.appendChild(i),this.element.appendChild(r);const o=e.createElement("div");o.classList.add(yn("w")),this.element.appendChild(o),this.inputsElem_=o,this.inputViews_=n.inputViews,this.applyInputViews_(),ft(n.mode,l=>{this.modeElem_.value=l})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){ah(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=e.createElement("div");r.classList.add(yn("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}}function cw(t){return Se(t==="float"?2:0)}function dw(t,e,n){const r=qn(t,e)[n];return new li({min:0,max:r})}function pw(t,e,n){return new pi(t,{arrayPosition:n===0?"fst":n===2?"lst":"mid",parser:e.parser,props:L.fromObject({formatter:cw(e.colorType),keyScale:fn(!1),pointerScale:e.colorType==="float"?.01:1}),value:H(0,{constraint:dw(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function hw(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:_t,viewProps:e.viewProps};return[0,1,2].map(r=>{const i=pw(t,n,r);return rr({primary:e.value,secondary:i.value,forward(o){return ge(o,e.colorType).getComponents(e.colorMode)[r]},backward(o,l){const s=e.colorMode,u=ge(o,e.colorType).getComponents(s);u[r]=l;const f=Ia(Ko(ot(u),u[3]),s,e.colorType);return ge(f,"int")}}),i})}function fw(t,e){const n=new Zr(t,{parser:fi("int"),props:L.fromObject({formatter:Ua}),value:H(N.black()),viewProps:e.viewProps});return rr({primary:e.value,secondary:n.value,forward:r=>new N(ot(r.getComponents()),r.mode),backward:(r,i)=>new N(Ko(ot(i.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function vw(t){return t!=="hex"}class mw{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=H(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new uw(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return vw(n)?hw(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):fw(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}}const Tl=R("hpl");class gw{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Tl()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(Tl("c")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Tl("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=Bh(new N([n,100,100],"hsv"));const r=D(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class ww{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new gw(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new wn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=D(ie(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),i=this.value.rawValue,[,o,l,s]=i.getComponents("hsv");this.value.setRawValue(new N([r,o,l,s],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ce(fn(!1),yt(e));if(n===0)return;const r=this.value.rawValue,[i,o,l,s]=r.getComponents("hsv");this.value.setRawValue(new N([i+n,o,l,s],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ce(fn(!1),yt(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ll=R("svp"),bc=64;class _w{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Ll()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("canvas");r.height=bc,r.width=bc,r.classList.add(Ll("c")),this.element.appendChild(r),this.canvasElement=r;const i=e.createElement("div");i.classList.add(Ll("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=wg(this.canvasElement);if(!e)return;const r=this.value.rawValue.getComponents("hsv"),i=this.canvasElement.width,o=this.canvasElement.height,l=e.getImageData(0,0,i,o),s=l.data;for(let f=0;f<o;f++)for(let h=0;h<i;h++){const v=D(h,0,i,0,100),w=D(f,0,o,100,0),_=kh(r[0],v,w),y=(f*i+h)*4;s[y]=_[0],s[y+1]=_[1],s[y+2]=_[2],s[y+3]=255}e.putImageData(l,0,0);const a=D(r[1],0,100,0,100);this.markerElem_.style.left=`${a}%`;const u=D(r[2],0,100,100,0);this.markerElem_.style.top=`${u}%`}onValueChange_(){this.update_()}}class yw{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new _w(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new wn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=D(e.point.x,0,e.bounds.width,0,100),i=D(e.point.y,0,e.bounds.height,100,0),[o,,,l]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new N([o,r,i,l],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){bh(e.key)&&e.preventDefault();const[n,r,i,o]=this.value.rawValue.getComponents("hsv"),l=fn(!1),s=Ce(l,yt(e)),a=Ce(l,Jr(e));s===0&&a===0||this.value.setRawValue(new N([n,r+s,i+a,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=fn(!1),r=Ce(n,yt(e)),i=Ce(n,Jr(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class bw{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new ww(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new yw(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new sw(e,{value:this.value,viewProps:this.viewProps}),text:new pi(e,{parser:_t,props:L.fromObject({pointerScale:.01,keyScale:.1,formatter:Se(2)}),value:H(0,{constraint:new li({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&rr({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,i)=>{const o=r.getComponents();return o[3]=i,new N(o,r.mode)}}),this.textsC_=new mw(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new R0(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const Vl=R("colsw");class xw{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(Vl()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Vl("sw")),this.element.appendChild(r),this.swatchElem_=r;const i=e.createElement("button");i.classList.add(Vl("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=$a(e)}onValueChange_(){this.update_()}}class Cw{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new xw(e,{value:this.value,viewProps:this.viewProps})}}class Ga{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=ai.create(n.expanded),this.swatchC_=new Cw(e,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new Zr(e,{parser:n.parser,props:L.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new E0(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new wh(e,{viewProps:this.viewProps}):null;const i=new bw(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach(o=>{o.addEventListener("blur",this.onPopupChildBlur_),o.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),rr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:o=>o,backward:(o,l)=>l})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Na(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=uh(e);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!La(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Pw(t){return ot(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function kw(t){return t.getComponents("rgb").reduce((e,n,r)=>{const i=Math.floor(r===3?n*255:n)&255;return e<<8|i},0)>>>0}function Ew(t){return new N([t>>16&255,t>>8&255,t&255],"rgb")}function Sw(t){return new N([t>>24&255,t>>16&255,t>>8&255,D(t&255,0,255,0,1)],"rgb")}function Tw(t){return typeof t!="number"?N.black():Ew(t)}function Lw(t){return typeof t!="number"?N.black():Sw(t)}function Yi(t,e){return typeof t!="object"||I(t)?!1:e in t&&typeof t[e]=="number"}function $h(t){return Yi(t,"r")&&Yi(t,"g")&&Yi(t,"b")}function Gh(t){return $h(t)&&Yi(t,"a")}function Hh(t){return $h(t)}function Ha(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),r=e.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function xc(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function Vw(t){const e=Uh(t);return e?(n,r)=>{hi(n,e(r))}:null}function Aw(t){const e=t?kw:Pw;return(n,r)=>{hi(n,e(r))}}function Mw(t,e,n){const i=ge(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b),t.writeProperty("a",i.a)}function Ow(t,e,n){const i=ge(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b)}function Rw(t,e){return(n,r)=>{t?Mw(n,r,e):Ow(n,r,e)}}function Nw(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function Dw(t){return t?e=>$a(e,"0x"):e=>Ua(e,"0x")}function zw(t){return"color"in t||t.view==="color"}const Fw=ye({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!zw(e))return null;const n=Ba(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:Nw(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?Lw:Tw,equals:Ha,writer:t=>Aw(t.params.supportsAlpha)},controller:t=>{var e,n;return new Ga(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:Dw(t.params.supportsAlpha),parser:fi("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function Bw(t,e){if(!Hh(t))return ge(N.black(),e);if(e==="int"){const n=xc(t);return new N(n,"rgb")}if(e==="float"){const n=xc(t);return new ja(n,"rgb")}return ge(N.black(),"int")}function jw(t){return Gh(t)}function Iw(t){return e=>{const n=Bw(e,t);return ge(n,"int")}}function Uw(t,e){return n=>t?Ih(n,e):jh(n,e)}const $w=ye({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!Hh(t))return null;const r=Ba(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{colorType:(n=Th(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>Iw(t.params.colorType),equals:Ha,writer:t=>Rw(jw(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const r=Gh(t.initialValue);return new Ga(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:Uw(r,t.params.colorType),parser:fi("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:t.value,viewProps:t.viewProps})}}),Gw=ye({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=J0(t,Th(e));if(!n)return null;const r=Uh(n);if(!r)return null;const i=Ba(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>ew,equals:Ha,writer:t=>{const e=Vw(t.params.format);if(!e)throw X.notBindable();return e}},controller:t=>{var e,n;return new Ga(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:fi("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class Ka{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((r,i)=>{var o,l;return(l=(o=this.components[i])===null||o===void 0?void 0:o.constrain(r))!==null&&l!==void 0?l:r});return this.asm_.fromComponents(n)}}const Cc=R("pndtxt");class Hw{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(Cc()),this.textViews.forEach(r=>{const i=e.createElement("div");i.classList.add(Cc("a")),i.appendChild(r.element),this.element.appendChild(i)})}}function Kw(t,e,n){return new pi(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:H(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class Wa{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,i)=>Kw(e,n,i)),this.acs_.forEach((r,i)=>{rr({primary:this.value,secondary:r.value,forward:o=>n.assembly.toComponents(o)[i],backward:(o,l)=>{const s=n.assembly.toComponents(o);return s[i]=l,n.assembly.fromComponents(s)}})}),this.view=new Hw(e,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}}class Ww extends Xr{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function Qw(t,e){const n=[],r=nh(t,e);r&&n.push(r);const i=rh(t);i&&n.push(i);const o=Fa(t.options);return o&&n.push(o),new ui(n)}const Yw=ye({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=Y(e,r=>Object.assign(Object.assign({},oh(r)),{options:r.optional.custom(di),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>Zp,constraint:t=>Qw(t.params,t.initialValue),writer:t=>hi},controller:t=>{const e=t.value,n=t.constraint,r=n&&Po(n,ci);if(r)return new Ht(t.document,{props:new L({options:r.values.value("options")}),value:e,viewProps:t.viewProps});const i=ih(t.params,e.rawValue),o=n&&Po(n,li);return o?new Eo(t.document,Object.assign(Object.assign({},xh(Object.assign(Object.assign({},i),{keyScale:H(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}))),{parser:_t,value:e,viewProps:t.viewProps})):new pi(t.document,{parser:_t,props:L.fromObject(i),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof Eo?new Ww(t.controller):t.controller.valueController instanceof Ht?new Da(t.controller):null}});class Ut{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(I(e))return!1;const n=e.x,r=e.y;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const Kh={toComponents:t=>t.getComponents(),fromComponents:t=>new Ut(...t)},bn=R("p2d");class qw{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(bn()),n.viewProps.bindClassModifiers(this.element),ft(n.expanded,er(this.element,bn(void 0,"expanded")));const r=e.createElement("div");r.classList.add(bn("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(bn("b")),i.appendChild(Go(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;const o=e.createElement("div");if(o.classList.add(bn("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const l=e.createElement("div");l.classList.add(bn("p")),this.element.appendChild(l),this.pickerElement=l}else this.pickerElement=null}}const kt=R("p2dp");class Xw{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(kt()),n.layout==="popup"&&this.element.classList.add(kt(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(kt("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const i=e.createElementNS(tt,"svg");i.classList.add(kt("g")),this.padElement.appendChild(i),this.svgElem_=i;const o=e.createElementNS(tt,"line");o.classList.add(kt("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);const l=e.createElementNS(tt,"line");l.classList.add(kt("ax")),l.setAttributeNS(null,"x1","50%"),l.setAttributeNS(null,"y1","0"),l.setAttributeNS(null,"x2","50%"),l.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(l);const s=e.createElementNS(tt,"line");s.classList.add(kt("l")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(s),this.lineElem_=s;const a=e.createElement("div");a.classList.add(kt("m")),this.padElement.appendChild(a),this.markerElem_=a,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),i=D(e,-r,+r,0,100),o=D(n,-r,+r,0,100),l=this.props_.get("invertsY")?100-o:o;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${l}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${l}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Pc(t,e,n){return[Ce(e[0],yt(t)),Ce(e[1],Jr(t))*(n?1:-1)]}class Zw{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Xw(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new wn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=this.props.get("max"),i=D(e.point.x,0,e.bounds.width,-r,+r),o=D(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-r,+r);this.value.setRawValue(new Ut(i,o),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){bh(e.key)&&e.preventDefault();const[n,r]=Pc(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new Ut(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,r]=Pc(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Jw{constructor(e,n){var r,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=ai.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new wh(e,{viewProps:this.viewProps}):null;const o=new Zw(e,{layout:n.pickerLayout,props:new L({invertsY:H(n.invertsY),max:H(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach(l=>{l.addEventListener("blur",this.onPopupChildBlur_),l.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=o,this.textC_=new Wa(e,{assembly:Kh,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new qw(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),rr({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:l=>l,backward:(l,s)=>s})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Na(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=uh(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!La(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function e_(t){return Ut.isObject(t)?new Ut(t.x,t.y):new Ut}function t_(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function n_(t,e){return new Ka({assembly:Kh,components:[pt(Object.assign(Object.assign({},t),t.x),e.x),pt(Object.assign(Object.assign({},t),t.y),e.y)]})}function kc(t,e){var n,r;if(!I(t.min)||!I(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((r=t.max)!==null&&r!==void 0?r:0));const i=eh(t);return Math.max(Math.abs(i)*10,Math.abs(e)*10)}function r_(t,e){var n,r;const i=kc(pn(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),o=kc(pn(t,(r=t.y)!==null&&r!==void 0?r:{}),e.y);return Math.max(i,o)}function i_(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}const o_=ye({id:"input-point2d",type:"input",accept:(t,e)=>{if(!Ut.isObject(t))return null;const n=Y(e,r=>Object.assign(Object.assign({},ei(r)),{expanded:r.optional.boolean,picker:r.optional.custom(Ph),readonly:r.optional.constant(!1),x:r.optional.custom(Ot),y:r.optional.object(Object.assign(Object.assign({},ei(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>e_,constraint:t=>n_(t.params,t.initialValue),equals:Ut.equals,writer:()=>t_},controller:t=>{var e,n;const r=t.document,i=t.value,o=t.constraint,l=[t.params.x,t.params.y];return new Jw(r,{axes:i.rawValue.getComponents().map((s,a)=>{var u;return Ta({constraint:o.components[a],initialValue:s,params:pn(t.params,(u=l[a])!==null&&u!==void 0?u:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:i_(t.params),max:r_(t.params,i.rawValue),parser:_t,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps})}});class In{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(I(e))return!1;const n=e.x,r=e.y,i=e.z;return!(typeof n!="number"||typeof r!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Wh={toComponents:t=>t.getComponents(),fromComponents:t=>new In(...t)};function l_(t){return In.isObject(t)?new In(t.x,t.y,t.z):new In}function s_(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function a_(t,e){return new Ka({assembly:Wh,components:[pt(Object.assign(Object.assign({},t),t.x),e.x),pt(Object.assign(Object.assign({},t),t.y),e.y),pt(Object.assign(Object.assign({},t),t.z),e.z)]})}const u_=ye({id:"input-point3d",type:"input",accept:(t,e)=>{if(!In.isObject(t))return null;const n=Y(e,r=>Object.assign(Object.assign({},ei(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(Ot),y:r.optional.custom(Ot),z:r.optional.custom(Ot)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>l_,constraint:t=>a_(t.params,t.initialValue),equals:In.equals,writer:t=>s_},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z];return new Wa(t.document,{assembly:Wh,axes:e.rawValue.getComponents().map((i,o)=>{var l;return Ta({constraint:n.components[o],initialValue:i,params:pn(t.params,(l=r[o])!==null&&l!==void 0?l:{})})}),parser:_t,value:e,viewProps:t.viewProps})}});class Un{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.z=r,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(I(e))return!1;const n=e.x,r=e.y,i=e.z,o=e.w;return!(typeof n!="number"||typeof r!="number"||typeof i!="number"||typeof o!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Qh={toComponents:t=>t.getComponents(),fromComponents:t=>new Un(...t)};function c_(t){return Un.isObject(t)?new Un(t.x,t.y,t.z,t.w):new Un}function d_(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function p_(t,e){return new Ka({assembly:Qh,components:[pt(Object.assign(Object.assign({},t),t.x),e.x),pt(Object.assign(Object.assign({},t),t.y),e.y),pt(Object.assign(Object.assign({},t),t.z),e.z),pt(Object.assign(Object.assign({},t),t.w),e.w)]})}const h_=ye({id:"input-point4d",type:"input",accept:(t,e)=>{if(!Un.isObject(t))return null;const n=Y(e,r=>Object.assign(Object.assign({},ei(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(Ot),x:r.optional.custom(Ot),y:r.optional.custom(Ot),z:r.optional.custom(Ot)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>c_,constraint:t=>p_(t.params,t.initialValue),equals:Un.equals,writer:t=>d_},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z,t.params.w];return new Wa(t.document,{assembly:Qh,axes:e.rawValue.getComponents().map((i,o)=>{var l;return Ta({constraint:n.components[o],initialValue:i,params:pn(t.params,(l=r[o])!==null&&l!==void 0?l:{})})}),parser:_t,value:e,viewProps:t.viewProps})}});function f_(t){const e=[],n=Fa(t.options);return n&&e.push(n),new ui(e)}const v_=ye({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=Y(e,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(di)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yh,constraint:t=>f_(t.params),writer:t=>hi},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Po(r,ci);return i?new Ht(e,{props:new L({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new Zr(e,{parser:o=>o,props:L.fromObject({formatter:Ts}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof Ht?new Da(t.controller):null}}),vi={monitor:{defaultInterval:200,defaultRows:3}},Ec=R("mll");class m_{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Ec()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("textarea");r.classList.add(Ec("i")),r.style.height=`calc(var(${Ch("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach(i=>{i!==void 0&&r.push(this.formatter_(i))}),e.textContent=r.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class Qa{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new m_(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const Sc=R("sgl");class g_{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Sc()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(Sc("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class Ya{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new g_(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}const w_=ye({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=Y(e,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>_h},controller:t=>{var e;return t.value.rawValue.length===1?new Ya(t.document,{formatter:_c,value:t.value,viewProps:t.viewProps}):new Qa(t.document,{formatter:_c,rows:(e=t.params.rows)!==null&&e!==void 0?e:vi.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class __ extends Xr{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const Et=R("grl");class y_{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Et()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=e.createElementNS(tt,"svg");r.classList.add(Et("g")),r.style.height=`calc(var(${Ch("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(tt,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const o=e.createElement("div");o.classList.add(Et("t"),R("tt")()),this.element.appendChild(o),this.tooltipElem_=o,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const{clientWidth:e,clientHeight:n}=this.element,r=this.value.rawValue.length-1,i=this.props_.get("min"),o=this.props_.get("max"),l=[];this.value.rawValue.forEach((h,v)=>{if(h===void 0)return;const w=D(v,0,r,0,e),_=D(h,i,o,n,0);l.push([w,_].join(","))}),this.lineElem_.setAttributeNS(null,"points",l.join(" "));const s=this.tooltipElem_,a=this.value.rawValue[this.cursor_.rawValue];if(a===void 0){s.classList.remove(Et("t","a"));return}const u=D(this.cursor_.rawValue,0,r,0,e),f=D(a,i,o,n,0);s.style.left=`${u}px`,s.style.top=`${f}px`,s.textContent=`${this.formatter_(a)}`,s.classList.contains(Et("t","a"))||(s.classList.add(Et("t","a"),Et("t","in")),Co(s),s.classList.remove(Et("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Yh{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=H(-1),this.view=new y_(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!La(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new wn(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return Re(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return Ne(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const{clientWidth:n}=this.view.element;this.cursor_.rawValue=Math.floor(D(e.offsetX,0,n,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(D(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function Ls(t){return I(t.format)?Se(2):t.format}function b_(t){var e;return t.value.rawValue.length===1?new Ya(t.document,{formatter:Ls(t.params),value:t.value,viewProps:t.viewProps}):new Qa(t.document,{formatter:Ls(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:vi.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function x_(t){var e,n,r;return new Yh(t.document,{formatter:Ls(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:vi.monitor.defaultRows,props:L.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(r=t.params.min)!==null&&r!==void 0?r:0}),value:t.value,viewProps:t.viewProps})}function Tc(t){return t.view==="graph"}const C_=ye({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=Y(e,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>Tc(t)?64:1,reader:t=>Zp},controller:t=>Tc(t.params)?x_(t):b_(t),api:t=>t.controller.valueController instanceof Yh?new __(t.controller):null}),P_=ye({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=Y(e,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yh},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new Qa(t.document,{formatter:Ts,rows:(e=t.params.rows)!==null&&e!==void 0?e:vi.monitor.defaultRows,value:n,viewProps:t.viewProps}):new Ya(t.document,{formatter:Ts,value:n,viewProps:t.viewProps})}});class k_{constructor(){this.map_=new Map}get(e){var n;return(n=this.map_.get(e))!==null&&n!==void 0?n:null}has(e){return this.map_.has(e)}add(e,n){return this.map_.set(e,n),e.viewProps.handleDispose(()=>{this.map_.delete(e)}),n}}class E_{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}}function S_(t,e){var n;const r=t.accept(e.target.read(),e.params);if(I(r))return null;const i={target:e.target,initialValue:r.initialValue,params:r.params},o=Y(e.params,h=>({disabled:h.optional.boolean,hidden:h.optional.boolean,label:h.optional.string,tag:h.optional.string})),l=t.binding.reader(i),s=t.binding.constraint?t.binding.constraint(i):void 0,a=new E_({reader:l,target:e.target,writer:t.binding.writer(i)}),u=new cg(H(l(r.initialValue),{constraint:s,equals:t.binding.equals}),a),f=t.controller({constraint:s,document:e.document,initialValue:r.initialValue,params:r.params,value:u,viewProps:xt.create({disabled:o==null?void 0:o.disabled,hidden:o==null?void 0:o.hidden})});return new kg(e.document,{blade:nr(),props:L.fromObject({label:"label"in e.params?(n=o==null?void 0:o.label)!==null&&n!==void 0?n:null:e.target.key}),tag:o==null?void 0:o.tag,value:u,valueController:f})}class T_{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}}function L_(t,e){return e===0?new s0:new a0(t,e??vi.monitor.defaultInterval)}function V_(t,e){var n,r,i;const o=t.accept(e.target.read(),e.params);if(I(o))return null;const l={target:e.target,initialValue:o.initialValue,params:o.params},s=Y(e.params,v=>({bufferSize:v.optional.number,disabled:v.optional.boolean,hidden:v.optional.boolean,interval:v.optional.number,label:v.optional.string})),a=t.binding.reader(l),u=(r=(n=s==null?void 0:s.bufferSize)!==null&&n!==void 0?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(o.params))!==null&&r!==void 0?r:1,f=new Vg({binding:new T_({reader:a,target:e.target}),bufferSize:u,ticker:L_(e.document,s==null?void 0:s.interval)}),h=t.controller({document:e.document,params:o.params,value:f,viewProps:xt.create({disabled:s==null?void 0:s.disabled,hidden:s==null?void 0:s.hidden})});return h.viewProps.bindDisabled(f.ticker),h.viewProps.handleDispose(()=>{f.ticker.dispose()}),new Mg(e.document,{blade:nr(),props:L.fromObject({label:"label"in e.params?(i=s==null?void 0:s.label)!==null&&i!==void 0?i:null:e.target.key}),value:f,valueController:h})}class A_{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,n){if(!b0(n.core))throw X.notCompatible(e,n.id);n.type==="blade"?this.pluginsMap_.blades.unshift(n):n.type==="input"?this.pluginsMap_.inputs.unshift(n):n.type==="monitor"&&this.pluginsMap_.monitors.unshift(n)}createInput_(e,n,r){return this.pluginsMap_.inputs.reduce((i,o)=>i??S_(o,{document:e,target:n,params:r}),null)}createMonitor_(e,n,r){return this.pluginsMap_.monitors.reduce((i,o)=>i??V_(o,{document:e,params:r,target:n}),null)}createBinding(e,n,r){const i=n.read();if(I(i))throw new X({context:{key:n.key},type:"nomatchingcontroller"});const o=this.createInput_(e,n,r);if(o)return o;const l=this.createMonitor_(e,n,r);if(l)return l;throw new X({context:{key:n.key},type:"nomatchingcontroller"})}createBlade(e,n){const r=this.pluginsMap_.blades.reduce((i,o)=>i??l0(o,{document:e,params:n}),null);if(!r)throw new X({type:"nomatchingview",context:{params:n}});return r}createInputBindingApi_(e){const n=this.pluginsMap_.inputs.reduce((r,i)=>{var o,l;return r||((l=(o=i.api)===null||o===void 0?void 0:o.call(i,{controller:e}))!==null&&l!==void 0?l:null)},null);return this.apiCache_.add(e,n??new Xr(e))}createMonitorBindingApi_(e){const n=this.pluginsMap_.monitors.reduce((r,i)=>{var o,l;return r||((l=(o=i.api)===null||o===void 0?void 0:o.call(i,{controller:e}))!==null&&l!==void 0?l:null)},null);return this.apiCache_.add(e,n??new Xr(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(Eg(e))return this.createInputBindingApi_(e);if(Og(e))return this.createMonitorBindingApi_(e);throw X.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(Pg(e))return this.createBindingApi(e);const n=this.pluginsMap_.blades.reduce((r,i)=>r??i.api({controller:e,pool:this}),null);if(!n)throw X.shouldNeverHappen();return this.apiCache_.add(e,n)}}const M_=new k_;function O_(){const t=new A_(M_);return[o_,u_,h_,v_,Yw,Gw,$w,Fw,k0,w_,P_,C_,Fg,Xg,gh].forEach(e=>{t.register("core",e)}),t}class R_ extends gn{constructor(e){super(e),this.emitter_=new te,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new si(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}class N_ extends gn{}class D_ extends gn{constructor(e){super(e),this.emitter_=new te,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new si(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}class z_ extends gn{constructor(e){super(e),this.emitter_=new te,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new si(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)},{key:n}),this}off(e,n){return this.emitter_.off(e,n),this}}const F_=function(){return{id:"list",type:"blade",core:tr,accept(t){const e=Y(t,n=>({options:n.required.custom(di),value:n.required.raw,view:n.required.constant("list"),label:n.optional.string}));return e?{params:e}:null},controller(t){const e=new ci(za(t.params.options)),n=H(t.params.value,{constraint:e}),r=new Ht(t.document,{props:new L({options:e.values.value("options")}),value:n,viewProps:t.viewProps});return new hn(t.document,{blade:t.blade,props:L.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof hn)||!(t.controller.valueController instanceof Ht)?null:new R_(t.controller)}}}();class B_ extends vh{constructor(e,n){super(e,n)}get element(){return this.controller.view.element}}class j_ extends Es{constructor(e,n){super(e,{expanded:n.expanded,blade:n.blade,props:n.props,root:!0,viewProps:n.viewProps})}}const Lc=R("spr");class I_{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Lc()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("hr");r.classList.add(Lc("r")),this.element.appendChild(r)}}class Vc extends Ho{constructor(e,n){super(Object.assign(Object.assign({},n),{view:new I_(e,{viewProps:n.viewProps})}))}}const U_={id:"separator",type:"blade",core:tr,accept(t){const e=Y(t,n=>({view:n.required.constant("separator")}));return e?{params:e}:null},controller(t){return new Vc(t.document,{blade:t.blade,viewProps:t.viewProps})},api(t){return t.controller instanceof Vc?new N_(t.controller):null}},$_={id:"slider",type:"blade",core:tr,accept(t){const e=Y(t,n=>({max:n.required.number,min:n.required.number,view:n.required.constant("slider"),format:n.optional.function,label:n.optional.string,value:n.optional.number}));return e?{params:e}:null},controller(t){var e,n;const r=(e=t.params.value)!==null&&e!==void 0?e:0,i=new li({max:t.params.max,min:t.params.min}),o=H(r,{constraint:i}),l=new Eo(t.document,Object.assign(Object.assign({},xh({formatter:(n=t.params.format)!==null&&n!==void 0?n:og,keyScale:H(1),max:i.values.value("max"),min:i.values.value("min"),pointerScale:th(t.params,r)})),{parser:_t,value:o,viewProps:t.viewProps}));return new hn(t.document,{blade:t.blade,props:L.fromObject({label:t.params.label}),value:o,valueController:l})},api(t){return!(t.controller instanceof hn)||!(t.controller.valueController instanceof Eo)?null:new D_(t.controller)}},G_=function(){return{id:"text",type:"blade",core:tr,accept(t){const e=Y(t,n=>({parse:n.required.function,value:n.required.raw,view:n.required.constant("text"),format:n.optional.function,label:n.optional.string}));return e?{params:e}:null},controller(t){var e;const n=H(t.params.value),r=new Zr(t.document,{parser:t.params.parse,props:L.fromObject({formatter:(e=t.params.format)!==null&&e!==void 0?e:i=>String(i)}),value:n,viewProps:t.viewProps});return new hn(t.document,{blade:t.blade,props:L.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof hn)||!(t.controller.valueController instanceof Zr)?null:new z_(t.controller)}}}();function H_(t){const e=t.createElement("div");return e.classList.add(R("dfw")()),t.body&&t.body.appendChild(e),e}function K_(t,e,n){if(t.querySelector(`style[data-tp-style=${e}]`))return;const r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}class W_ extends B_{constructor(e){var n,r;const i=e??{},o=(n=i.document)!==null&&n!==void 0?n:gg(),l=O_(),s=new j_(o,{expanded:i.expanded,blade:nr(),props:L.fromObject({title:i.title}),viewProps:xt.create()});super(s,l),this.pool_=l,this.containerElem_=(r=i.container)!==null&&r!==void 0?r:H_(o),this.containerElem_.appendChild(this.element),this.doc_=o,this.usesDefaultWrapper_=!i.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw X.alreadyDisposed();return this.doc_}dispose(){const e=this.containerElem_;if(!e)throw X.alreadyDisposed();if(this.usesDefaultWrapper_){const n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&K_(this.document,`plugin-${e.id}`,e.css),("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(r=>{this.pool_.register(e.id,r)})}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{display:block;height:16px;inset:0;margin:auto;opacity:0;position:absolute;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{inset:0;position:absolute}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;inset:0;position:absolute}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);content:"";display:block;inset:0;position:absolute}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";display:block;height:2px;inset:0;margin:auto;position:absolute}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;content:"";display:block;height:2px;inset:0;margin-bottom:auto;margin-top:auto;position:absolute}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);content:"";inset:0 0 2px;pointer-events:none;position:absolute}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[F_,U_,$_,gh,G_]})}}new fh("4.0.5");const M={numOfAgents:{value:2e4,label:"NumOfAgents",min:1e3,max:6e4,step:1e4},startRadius:{value:100,label:"StartRadius",min:50,max:250,step:50},radius:{value:1.5,label:"AgentSize",min:.5,max:1.5,step:1},stepSize:{value:.75,label:"AgentSpeed",min:0,max:1.5,step:.25},decayT:{value:.005,label:"TrailDecay",min:.005,max:.025,step:.005},sensorOffset:{value:8,label:"SensorOffset",min:0,max:20,step:2},sensorAngle:{value:45,label:"SensorAngle",min:5,max:135,step:5},rotationAngle:{value:45,label:"RotationAngle",min:5,max:135,step:5}},ut={blurTrail:{value:!1,label:"BlurTrail"},enableLighting:{value:!0,label:"Lighting"},slimeColor:{value:{r:255,g:0,b:0},label:"SlimeColor",picker:"inline"}},Ac=(t,e,n)=>{const r=M.numOfAgents.value,i=r*4,o=new Float32Array(i);for(let l=0;l<r;l++){let s=e.width/2,a=e.height/2,u=Math.random()*10;o[l*4+0]=s+Math.cos(u)*M.startRadius.value,o[l*4+1]=a+Math.sin(u)*M.startRadius.value,o[l*4+2]=Math.random()*2-1,o[l*4+3]=Math.random()*2-1}return t.queue.writeBuffer(n,0,o),n},Mc=(t,e,n,r)=>(n[0]=e.width,n[1]=e.height,n[2]=M.radius.value,n[3]=M.stepSize.value,n[4]=M.decayT.value,n[5]=M.sensorOffset.value,n[6]=M.sensorAngle.value,n[7]=M.rotationAngle.value,t.queue.writeBuffer(r,0,n),r),Oc=(t,e,n)=>{e[0]=ut.blurTrail.value?1:0,e[1]=ut.enableLighting.value?1:0;const r=ut.slimeColor.value;e[4]=r.r/255,e[5]=r.g/255,e[6]=r.b/255,t.queue.writeBuffer(n,0,e)},Rc=(t,e,n,r)=>{const i=Math.floor(e.width*e.height)*4,o=new Int8Array(i);for(let l=0;l<e.width*e.height;l++)o[l*4+0]=0,o[l*4+1]=0,o[l*4+2]=0,o[l*4+3]=255;t.queue.writeTexture({texture:n},o,{bytesPerRow:e.width*4},{width:e.width,height:e.height}),t.queue.writeTexture({texture:r},o,{bytesPerRow:e.width*4},{width:e.width,height:e.height})},Q_=async(t,e)=>{const n=document.querySelector("canvas");if(!n)throw new Error("No canvas detected in the browser.");if(!navigator.gpu)throw new Error("WebGPU is not supported in this browser.");const r=await navigator.gpu.requestAdapter();if(!r)throw new Error("No appropriate GPUAdapter found.");const i=await r.requestDevice();i.addEventListener("uncapturederror",s=>{console.log(`%c ${s.error.message}`,"color: #FF0000; font-weight: bold; font-size: 12px")}),n.width=t,n.height=e;const o=navigator.gpu.getPreferredCanvasFormat(),l=n.getContext("webgpu");if(!l)throw new Error("Cannot recieve WebGPU context from canvas.");return l.configure({device:i,format:o}),{device:i,canvas:n,canvasFormat:o,context:l}},Y_=(t,e,n)=>{const r=n.addFolder({title:"General"});r.addBinding(M.radius,"value",{...M.radius}),r.addBinding(M.stepSize,"value",{...M.stepSize}),r.addBinding(M.decayT,"value",{...M.decayT});const i=n.addFolder({title:"Agent"});i.addBinding(M.sensorOffset,"value",{...M.sensorOffset}),i.addBinding(M.sensorAngle,"value",{...M.sensorAngle}),i.addBinding(M.rotationAngle,"value",{...M.rotationAngle});const o=i.addButton({title:"Randomize Agent Settings"}),l=new Float32Array(10),s=t.createBuffer({label:"create uniforms buffer for gpu",size:l.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC|GPUBufferUsage.UNIFORM});return Mc(t,e,l,s),n.on("change",()=>{Mc(t,e,l,s),console.log("pane changed!")}),o.on("click",()=>{console.log("randomize agents clicked!");const a=(v,w,_)=>{const y=(w-v)/_,F=Math.floor(Math.random()*(y+1));return v+F*_},u=M.sensorOffset,f=M.sensorAngle,h=M.rotationAngle;M.sensorOffset.value=a(u.min,u.max,u.step),M.sensorAngle.value=a(f.min,f.max,f.step),M.rotationAngle.value=a(h.min,h.max,h.step),n.refresh()}),s},q_=(t,e)=>{const n=e.addFolder({title:"Colorization"});n.addBinding(ut.blurTrail,"value",{...ut.blurTrail}),n.addBinding(ut.enableLighting,"value",{...ut.enableLighting}),n.addBinding(ut.slimeColor,"value",{...ut.slimeColor});const r=new Float32Array(12),i=t.createBuffer({label:"colorization uniforms buffer",size:r.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC|GPUBufferUsage.UNIFORM});return Oc(t,r,i),n.on("change",()=>{Oc(t,r,i)}),i},X_=(t,e)=>{const n=t.createTexture({label:"create texture A for storage on gpu",format:"rgba8unorm",size:{width:e.width,height:e.height},usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC|GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.TEXTURE_BINDING}),r=t.createTexture({label:"create texture B for read on gpu",format:"rgba8unorm",size:{width:e.width,height:e.height},usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING}),i=n.createView(),o=r.createView();return{gpuTextureForStorage:n,gpuTextureForStorageView:i,gpuTextureForRead:r,gpuTextureForReadView:o}},Z_=(t,e,n,r,i)=>{const o=n.addFolder({title:"Simulation"});o.addBinding(M.numOfAgents,"value",{...M.numOfAgents}),o.addBinding(M.startRadius,"value",{...M.startRadius});const l=o.addButton({title:"Download Image"}),s=M.numOfAgents.max*4,a=new Float32Array(s),u=t.createBuffer({label:"create agents buffer",size:a.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST});return Ac(t,e,u),Rc(t,e,r,i),o.on("change",()=>{Ac(t,e,u),Rc(t,e,r,i)}),l.on("click",()=>{const f=e.toDataURL("image/png"),h=new XMLHttpRequest;h.responseType="blob",h.onload=()=>{const v=document.createElement("a");v.href=window.URL.createObjectURL(h.response),v.download="slime-mold.png",v.style.display="none",document.body.appendChild(v),v.click(),v.remove()},h.open("GET",f),h.send()}),u},Wo=`struct SlimeSimUniformsStruct {
  resolution: vec2f,

  // general
  radius: f32,
  stepSize: f32,
  decayT: f32,

  // sensor
  sensorOffset: f32,
  sensorAngle: f32,
  rotationAngle: f32,

  // other
  diffuseKernel: f32,
};

struct ColorizationUniformsStruct {
  blurTrail: f32,
  enableLighting: f32,
  slimeColor: vec3f,
};
`,J_=`// =============================================================
// Compute pass 1 -> update agents.
// =============================================================
struct Agent {
  position: vec2f,
  direction: vec2f,
}

@group(0) @binding(0) var<uniform> uSlimeSim: SlimeSimUniformsStruct;
@group(0) @binding(1) var<storage, read_write> agentsArray: array<Agent>;
@group(0) @binding(2) var readFromThisTexture: texture_2d<f32>;
@group(0) @binding(3) var writeToThisTexture: texture_storage_2d<rgba8unorm, write>;

fn rotationMatrix(degrees: f32) -> mat2x2f {
  let radians = radians(degrees); // Convert degrees to radians
  let cosTheta = cos(radians);
  let sinTheta = sin(radians);
  return mat2x2f(
    vec2f(cosTheta, -sinTheta),
    vec2f(sinTheta, cosTheta)
  );
}

fn rotate(direction: vec2f, degrees: f32) -> vec2f {
  let rotMatrix = rotationMatrix(degrees);
  return rotMatrix * direction;
}

fn checkTrail(agentPosition: vec2f, newDir: vec2f) -> f32 {
  var sum: f32 = 0.0;
  let sensorWidth: i32 = 1;
  let sensorPosition = agentPosition + uSlimeSim.sensorOffset * newDir;

  for (var x = -sensorWidth; x <= sensorWidth; x++) {
    for (var y = -sensorWidth; y <= sensorWidth; y++) {
      let sampleX = i32(sensorPosition.x) + x;
      let sampleY = i32(sensorPosition.y) + y;
      sum += textureLoad(readFromThisTexture, vec2i(sampleX, sampleY), 0).r;
    }
  }

  return sum;
}

// takes a value and converts it between 0 and 1
fn hashTo01(value: u32) -> u32 {
  return (value * 2654435761u) % 2u; // Use a prime multiplier for hashing
}

@compute
@workgroup_size(1)
fn updateAgents(
  @builtin(global_invocation_id) id: vec3u
) {
  let idx = id.x; // Index for the current workgroup invocation
  if (idx < arrayLength(&agentsArray)) {
    // =============================================================
    // 1. Motor stage -> update agents position.
    // reference: https://uwe-repository.worktribe.com/output/980579
    // =============================================================
    let uResolution: vec2f = uSlimeSim.resolution;
    let agentPosition: vec2f = agentsArray[idx].position;
    if (agentPosition.x < 0 || agentPosition.x > uResolution.x) {
      agentsArray[idx].direction.x *= -1.0;
    }
    if (agentPosition.y < 0 || agentPosition.y > uResolution.y) {
      agentsArray[idx].direction.y *= -1.0;
    }
    // In this case, we specifically want to use agents[idx].direction because that
    // is being changed, where as the local \`agent\` variable is not.
    // Make sure to normalize direction becaues otherwise, some agents move very slow.
    agentsArray[idx].position = agentPosition + normalize(agentsArray[idx].direction) * uSlimeSim.stepSize;

    // =============================================================
    // 2. Sensory stage -> update agents direction based on sensors.
    // reference: https://uwe-repository.worktribe.com/output/980579
    //
    // Lets say that abs(maxDegrees) = 145
    // Add degrees to go left, subtract degrees to go right.
    // =============================================================
    let uSensorAngle = uSlimeSim.sensorAngle;
    let sensorDegreeLeft = uSensorAngle;
    let sensorDegreeRight = -uSensorAngle;

    let sensorForwardDir = normalize(agentsArray[idx].direction);
    let sensorLeftDir = rotate(sensorForwardDir, sensorDegreeLeft);
    let sensorRightDir = rotate(sensorForwardDir, sensorDegreeRight);

    let F: f32 = checkTrail(agentsArray[idx].position, sensorForwardDir);
    let FL: f32 = checkTrail(agentsArray[idx].position, sensorLeftDir);
    let FR: f32 = checkTrail(agentsArray[idx].position, sensorRightDir);

    // // lets say that abs(maxDegrees) = 145
    // // add degrees to go left, subtract degrees to go right
    let uRotationAngle = uSlimeSim.rotationAngle;
    let rotationDegreeLeft = uRotationAngle;
    let rotationDegreeRight = -uRotationAngle;

    let rotationForwardDir = normalize(agentsArray[idx].direction);
    let rotationLeftDir = rotate(rotationForwardDir, rotationDegreeLeft);
    let rotationRightDir = rotate(rotationForwardDir, rotationDegreeRight);

    if (F > FL && F > FR) {
      // do nothing
    } else if (F < FL && F < FR) {
      let zeroOrOne = f32(hashTo01(u32(F + FR + FL)));
      if (zeroOrOne < 0.1) {
        agentsArray[idx].direction = rotationLeftDir;
      } else {
        agentsArray[idx].direction = rotationRightDir;
      }
    } else if (FL < FR) {
      agentsArray[idx].direction = rotationRightDir;
    } else if (FR < FL) {
      agentsArray[idx].direction = rotationLeftDir;
    } else {
      // do nothing
    }
  }

  // =============================================================
  // 3. Draw white dot with uSlimeSim.radius on texture.
  // =============================================================
  let white = vec4f(1.0, 1.0, 1.0, 1.0);
  let agentCenterPos = vec2i(agentsArray[id.x].position);

  // Setting radius to decimal, like, 2.5 makes it an f32.
  // Type f32 doesn't allow x++ or y++ which is annoying in for-loops.
  // But type f32 can be useful if we want to make a circular agent with
  // a smaller radius since we can perform checks by incrementing 0.5
  // units in the for-loop.
  let uRadius = uSlimeSim.radius;
  let rSquared = uRadius * uRadius;
  for (var x = -uRadius; x <= uRadius; x += 0.5) {
    for (var y = -uRadius; y <= uRadius; y += 0.5) {
      let offset = vec2f(x, y);
      let offsetDotProduct = dot(offset, offset);
      if (offsetDotProduct < rSquared) {
        // We need to cast offset to i32 since textureStore takes vec2i.
        // agentCenterPos has already been cast during initialization.
        let texelCoordToColorize = agentCenterPos + vec2i(offset);
        textureStore(writeToThisTexture, texelCoordToColorize, white);
      }
    }
  }
}
`,ey=`// =============================================================
// Compute pass 2 -> fade agents trail.
// =============================================================
@group(0) @binding(0) var<uniform> uSlimeSim: SlimeSimUniformsStruct;
@group(0) @binding(1) var readFromThisTexture: texture_2d<f32>;
@group(0) @binding(2) var writeToThisTexture: texture_storage_2d<rgba8unorm, write>;

@compute
@workgroup_size(1)
fn fadeAgentsTrail(
  @builtin(global_invocation_id) id: vec3u,
) {
  let currTextureColor = textureLoad(readFromThisTexture, id.xy, 0).rgb;
  let newTextureColor = currTextureColor - uSlimeSim.decayT;
  textureStore(writeToThisTexture, id.xy, vec4f(newTextureColor, 1.0));
}
`,ty=`// =============================================================
// Compute pass 3 -> blur agents trail.
// =============================================================
@group(0) @binding(0) var<uniform> uSlimeSim: SlimeSimUniformsStruct;
@group(0) @binding(1) var<uniform> uColorization: ColorizationUniformsStruct;
@group(0) @binding(2) var readFromThisTexture: texture_2d<f32>;
@group(0) @binding(3) var writeToThisTexture: texture_storage_2d<rgba8unorm, write>;

@compute
@workgroup_size(8, 8)
fn blurAgentsTrail(
  @builtin(global_invocation_id) id: vec3u,
) {
  var newTextureColor = vec4f(0.0);
  let uBlurTrail = uColorization.blurTrail;
  let uCanvasSize = vec2u(uSlimeSim.resolution);

  // Avoid out-of-bounds access.
  if (id.x >= uCanvasSize.x || id.y >= uCanvasSize.y) {
    return;
  }

  // Seems like booleans cannot be passed as uniforms in a gpu buffer.
  // If blurTrail value is equal to 0, do not blur the texture.
  if (uBlurTrail < 1.0) {
    newTextureColor = textureLoad(readFromThisTexture, vec2i(id.xy), 0);
  } else {
    // todo: why does this loop seem slower?
    // var pixelCount = 0.0;
    // for (var x = -1; x <= 1; x++) {
    //   for (var y = -1; y <= 1; y++) {
    //     var currPos = vec2i(id.xy) + vec2i(x, y);
    //     newTextureColor += textureLoad(readFromThisTexture, currPos, 0);
    //     pixelCount += 1;
    //   }
    // }
    // newTextureColor = newTextureColor / pixelCount;

    // this seems faster?
    var currPos = vec2i(id.xy);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(-1, 1), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(0, 1), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(1, 1), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(-1, 0), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(0, 0), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(1, 0), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(-1, -1), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(0, -1), 0);
    newTextureColor += textureLoad(readFromThisTexture, currPos + vec2i(1, -1), 0);
    newTextureColor /= 9.0;
  }

  textureStore(writeToThisTexture, id.xy, newTextureColor);
}
`,ny=`// =============================================================
// Draw agents render pass: vertex shader.
// =============================================================
@vertex
fn vertexShader(
  @builtin(vertex_index) index: u32
) -> @builtin(position) vec4f {
  var positions = array<vec4f, 6>(
    vec4(-1.0, -1.0, 0.0, 1.0),
    vec4( 1.0, -1.0, 0.0, 1.0),
    vec4(-1.0,  1.0, 0.0, 1.0),

    vec4( 1.0, -1.0, 0.0, 1.0),
    vec4( 1.0,  1.0, 0.0, 1.0),
    vec4(-1.0,  1.0, 0.0, 1.0)
  );
  return positions[index];
}

// =============================================================
// Draw agents render pass: fragment shader.
// =============================================================
@group(0) @binding(0) var<uniform> uSlimeSim: SlimeSimUniformsStruct;
@group(0) @binding(1) var<uniform> uColorization: ColorizationUniformsStruct;
@group(0) @binding(2) var readFromThisTexture: texture_2d<f32>;

fn calculateNormal(uv: vec2f) -> vec3f {
    // Sample neighboring pixels
    let h_x1 = textureLoad(readFromThisTexture, vec2i(uv) + vec2i(1, 0), 0).r;
    let h_x0 = textureLoad(readFromThisTexture, vec2i(uv) - vec2i(1, 0), 0).r;
    let h_y1 = textureLoad(readFromThisTexture, vec2i(uv) + vec2i(0, 1), 0).r;
    let h_y0 = textureLoad(readFromThisTexture, vec2i(uv) - vec2i(0, 1), 0).r;

    // Calculate gradients
    let strength = 2.0;
    let grad_x = (h_x1 - h_x0) * strength;
    let grad_y = (h_y1 - h_y0) * strength;

    // Compute and normalize the normal
    return normalize(vec3f(-grad_x, -grad_y, -1.0));
}

@fragment
fn fragmentShader(
  @builtin(position) fragCoord:vec4f
) -> @location(0) vec4f {
  // =============================================================
  // Create the checkerboard pattern.
  // =============================================================
  let checkerBoardUv = (2.0 * fragCoord.xy - uSlimeSim.resolution.xy) / uSlimeSim.resolution.y;
  let checkerBoardGridUv = vec2(floor(checkerBoardUv * 8.0));
  var checkerBoardColor = vec3(0.0);
  if (floor((checkerBoardGridUv.x + checkerBoardGridUv.y) % 2) == 0) {
    checkerBoardColor = vec3(0.125);
  } else {
    checkerBoardColor = vec3(0.0625);
  }

  // =============================================================
  // Set up uv coords and get texture color at the current coordinate.
  // =============================================================
  let uv = fragCoord.xy / uSlimeSim.resolution;
  let currTextureColor = textureLoad(readFromThisTexture, vec2i(uv * uSlimeSim.resolution), 0);
  let uSlimeColor = uColorization.slimeColor;
  var fragColor = vec3f(0.0);

  // =============================================================
  // Return early if we disabled lighting.
  // =============================================================
  if (uColorization.enableLighting <= 0.0001) {
    // Mix between the checkerboard color, and slime color based on whether or not
    // the texture color is set to white. We can check for this using the r, g, or
    // b channels. Using alpha channel wouldn't make sense because it's always 1.
    fragColor = mix(checkerBoardColor, uSlimeColor, smoothstep(0.0, 1.0, currTextureColor.r));
    return vec4(fragColor, 1.0);
  }

  // =============================================================
  // Calculate lighting and stylize the result.
  //
  // Note that negative values for y moves the light source up. WebGPU has y in
  // reverse. Setting y = -0.25, will make light appear at the top-right!
  // =============================================================
  let lightSource = vec3f(0.25, -0.25, -2.0);
  let viewSource = vec3f(0.0, 0.0, -1.0);
  let lightDir = normalize(lightSource);
  let viewDir = normalize(viewSource);

  // 32 or 64 seem like good numbers especially with lightSource
  // at vec3f(0.25, 0.25. -2.0). Higher value = sharper highlights.
  let shininess = 64.0;
  let surfaceNormal = calculateNormal(fragCoord.xy);
  let reflection = reflect(-lightDir, surfaceNormal);
  let specularIntensity = pow(max(dot(reflection, viewDir), 0.0), shininess);

  // Setting the baseColorIntensity to 0.8, ensures that specular highlights are
  // more easily visible. Setting it to 1.0 would make the specular highlights
  // harder to notice.
  let baseColorIntensity = 0.8;
  let lightColor = vec3f(1.0, 1.0, 1.0);
  let baseColor = uSlimeColor * currTextureColor.rgb * baseColorIntensity;
  let specularColor = lightColor * specularIntensity;

  fragColor = baseColor + specularColor;
  fragColor = pow(fragColor, vec3(2.0));
  fragColor = mix(checkerBoardColor, fragColor, smoothstep(0.0, 1.0, currTextureColor.r));
  return vec4f(fragColor, 1.0);
}
`,ry=(t,e,n,r,i)=>{const o=[Wo,J_].join(""),l=t.createShaderModule({label:"update agents: create shader module",code:o}),s=t.createBindGroupLayout({label:"update agents: create compute bind group layout",entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,texture:{viewDimension:"2d"}},{binding:3,visibility:GPUShaderStage.COMPUTE,storageTexture:{format:"rgba8unorm",access:"write-only",viewDimension:"2d"}}]}),a=t.createPipelineLayout({label:"update agents: create compute pipeline layout",bindGroupLayouts:[s]}),u=t.createComputePipeline({label:"update agents: create compute pipeline",layout:a,compute:{entryPoint:"updateAgents",module:l}}),f=t.createBindGroup({label:"update agents: create compute bind group",layout:s,entries:[{binding:0,resource:{buffer:e}},{binding:1,resource:{buffer:n}},{binding:2,resource:r},{binding:3,resource:i}]});return{updateAgentsComputePipeline:u,updateAgentsComputeBindGroup:f}},iy=(t,e,n,r)=>{const i=[Wo,ey].join(""),o=t.createShaderModule({label:"fade agents trail: create shader module",code:i}),l=t.createBindGroupLayout({label:"fade agents trail: create bind group layout",entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.COMPUTE,texture:{viewDimension:"2d"}},{binding:2,visibility:GPUShaderStage.COMPUTE,storageTexture:{format:"rgba8unorm",access:"write-only",viewDimension:"2d"}}]}),s=t.createPipelineLayout({label:"fade agents trail: create compute pipeline layout",bindGroupLayouts:[l]}),a=t.createComputePipeline({label:"fade agents trail: create compute pipeline",layout:s,compute:{entryPoint:"fadeAgentsTrail",module:o}}),u=t.createBindGroup({label:"fade agents trail: create bind group",layout:l,entries:[{binding:0,resource:{buffer:e}},{binding:1,resource:n},{binding:2,resource:r}]});return{fadeAgentsTrailComputePipeline:a,fadeAgentsTrailBindGroup:u}},oy=(t,e,n,r,i)=>{const o=[Wo,ty].join(""),l=t.createShaderModule({label:"blur agents trail: create shader module",code:o}),s=t.createBindGroupLayout({label:"blur agents trail: create bindgroup layout",entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:2,visibility:GPUShaderStage.COMPUTE,texture:{viewDimension:"2d"}},{binding:3,visibility:GPUShaderStage.COMPUTE,storageTexture:{format:"rgba8unorm",access:"write-only",viewDimension:"2d"}}]}),a=t.createPipelineLayout({label:"blur agents trail: create pipeline layout",bindGroupLayouts:[s]}),u=t.createComputePipeline({label:"blur agents trail: create compute pipeline",layout:a,compute:{entryPoint:"blurAgentsTrail",module:l}}),f=t.createBindGroup({label:"blur agents trail: create bind group",layout:s,entries:[{binding:0,resource:{buffer:e}},{binding:1,resource:{buffer:n}},{binding:2,resource:r},{binding:3,resource:i}]});return{blurAgentsTrailPipeline:u,blurAgentsTrailBindGroup:f}},ly=(t,e,n,r,i)=>{const o=[Wo,ny].join(""),l=t.createShaderModule({label:"draw agents: create shader module",code:o}),s=t.createBindGroupLayout({label:"draw agents: create bind group layout",entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:2,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}}]}),a=t.createRenderPipeline({label:"draw agents: create render pipeline",layout:t.createPipelineLayout({bindGroupLayouts:[s]}),vertex:{entryPoint:"vertexShader",module:l},fragment:{entryPoint:"fragmentShader",module:l,targets:[{format:e}]},primitive:{topology:"triangle-list"}}),u=t.createBindGroup({label:"draw agents: create bind group",layout:s,entries:[{binding:0,resource:{buffer:n}},{binding:1,resource:{buffer:r}},{binding:2,resource:i}]});return{drawAgentsRenderPipeline:a,drawAgentsBindGroup:u}};let qi=new W_,qh=0;const sy=async()=>{let t=800,e=600,n=null,r=null,i=null,o=null;try{const b=await Q_(t,e);n=b.device,r=b.canvas,i=b.canvasFormat,o=b.context}catch(b){throw b}const{gpuTextureForStorage:l,gpuTextureForStorageView:s,gpuTextureForRead:a,gpuTextureForReadView:u}=X_(n,r),f=Z_(n,r,qi,l,a),h=Y_(n,r,qi),v=q_(n,qi),{updateAgentsComputePipeline:w,updateAgentsComputeBindGroup:_}=ry(n,h,f,u,s),{fadeAgentsTrailComputePipeline:y,fadeAgentsTrailBindGroup:F}=iy(n,h,u,s),{blurAgentsTrailPipeline:d,blurAgentsTrailBindGroup:c}=oy(n,h,v,u,s),{drawAgentsRenderPipeline:p,drawAgentsBindGroup:m}=ly(n,i,h,v,u),x=()=>{const b=n.createCommandEncoder(),k=b.beginComputePass({label:"update agents: begin compute pass"});k.setPipeline(w),k.setBindGroup(0,_),k.dispatchWorkgroups(M.numOfAgents.value),k.end(),b.copyTextureToTexture({texture:l},{texture:a},[r.width,r.height,1]);const E=b.beginComputePass({label:"fade agents trail: begin compute pass"});E.setPipeline(y),E.setBindGroup(0,F),E.dispatchWorkgroups(r.width,r.height),E.end(),b.copyTextureToTexture({texture:l},{texture:a},[r.width,r.height,1]);const B=b.beginComputePass({label:"blur agents trail: begin compute pass"});B.setPipeline(d),B.setBindGroup(0,c),B.dispatchWorkgroups(r.width/8,r.height/8),B.end(),b.copyTextureToTexture({texture:l},{texture:a},[r.width,r.height,1]);const T=b.beginRenderPass({label:"draw agents: begin render pass",colorAttachments:[{view:o.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store",clearValue:{r:0,g:0,b:0,a:1}}]});T.setPipeline(p),T.setBindGroup(0,m),T.draw(6),T.end(),n.queue.submit([b.finish()]),qh=requestAnimationFrame(x)};x()},Nc=()=>{qi.dispose(),cancelAnimationFrame(qh)};function ay(){const[t,e]=Ar.useState("");return Ar.useEffect(()=>((async()=>{try{await sy()}catch(r){e(String(r)),Nc()}})(),()=>{Nc()}),[]),xn.jsxs("div",{className:"absolute w-full h-full bg-black",children:[t.length>0&&xn.jsx("div",{className:"text-4xl text-red-500 p-8",children:t}),xn.jsx("div",{className:"flex items-center justify-center h-screen place-items-center text-center text-white",children:xn.jsx("canvas",{})})]})}Qp(document.getElementById("root")).render(xn.jsx(Ar.StrictMode,{children:xn.jsx(ay,{})}));
